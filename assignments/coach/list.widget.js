System.register(["@beyond-js/widgets@1.1.0/render","@beyond-js/kernel@0.1.9/bundle","@beyond-js/kernel@0.1.9/styles","@beyond-js/react-18-widgets@1.1.2/page","@aimpact/chat-sdk@1.2.0/wrapper","@aimpact/ailearn-sdk@1.0.0/core","@beyond-js/reactive@1.2.0/model","react@18.2.0","@aimpact/ailearn-app@0.1.6/components/ui","@beyond-js/react-18-widgets@1.1.2/hooks","pragmate-ui@1.0.0-beta.6/components","@aimpact/ailearn-app@0.1.6/config","pragmate-ui@1.0.0-beta.6/list"],function(n,e){"use strict";var t,a,i,r,s,o,c,l,d,u,m,p,f,h,g;return n({Controller:void 0,View:void 0}),{setters:[function(e){t=e},function(e){a=e},function(e){i=e},function(e){r=e},function(e){s=e},function(e){o=e},function(e){c=e},function(e){l=e},function(e){d=e},function(e){u=e},function(e){m=e},function(e){p=e},function(e){f=e}],execute:function(){g=a.Bundle,(h=new g({module:{vspecifier:"@aimpact/ailearn-app@0.1.6/assignments/coach/list",multibundle:!0},type:"widget"},e.meta.url).package()).dependencies.update([["@beyond-js/widgets/render",t],["@beyond-js/kernel/styles",i],["@beyond-js/react-18-widgets/page",r],["@aimpact/chat-sdk/wrapper",s],["@aimpact/ailearn-sdk/core",o],["@beyond-js/reactive/model",c],["react",l],["@aimpact/ailearn-app/components/ui",d],["@beyond-js/react-18-widgets/hooks",u],["pragmate-ui/components",m],["@aimpact/ailearn-app/config",p],["pragmate-ui/list",f]]),brequire("@beyond-js/widgets/render").widgets.register([{name:"ailearn-assignments-coach-list",vspecifier:"@aimpact/ailearn-app@0.1.6/assignments/coach/list.widget",is:"page",route:"/assignments/${id}/coach/list",layout:"main-layout"}]),brequire("@beyond-js/kernel/styles").styles.register("@aimpact/ailearn-app@0.1.6/assignments/coach/list.widget"),(g=new Map).set("./controller",{hash:2972444672,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Controller=void 0;var a=e("@beyond-js/react-18-widgets/page"),n=e("./store"),i=e("./views");class r extends a.PageReactWidgetController{#store;createStore(){return this.#store=new n.StoreManager,this.#store}get Widget(){return i.View}show(){this.#store.load(this.uri.vars.get("id"))}hide(){}}t.Controller=r}}),g.set("./store",{hash:3790138872,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.StoreManager=void 0;var a=e("@aimpact/chat-sdk/wrapper"),n=e("@aimpact/ailearn-sdk/core");class i extends e("@beyond-js/reactive/model").ReactiveModel{#model;get model(){return this.#model}load=async e=>{try{this.#model&&this.#model.id!==e&&(this.#model.off("change",this.triggerEvent),this.#model=void 0),this.#model=new n.Classroom({id:e}),this.#model.on("change",this.triggerEvent),await this.#model.load({id:e}),this.ready=!0}catch(e){"ERROR_DATA_QUERY"===e&&(this.error=!0,this.ready=!0)}};async getLessonData(t){await t.load(),a.AppWrapper.chats.items.filter(e=>{if(e.metadata&&e.metadata.lesson?.id===t.id)return!0})}}t.StoreManager=i}}),g.set("./views/context",{hash:3962165658,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.useListContext=t.ListContext=void 0;var a=e("react");const n=t.ListContext=a.default.createContext({});t.useListContext=()=>a.default.useContext(n)}}),g.set("./views/index",{hash:3893191733,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.View=function({store:e}){const[t,a]=h.default.useState(e.ready),[n,i]=h.default.useState(e.error),[r,s]=(0,v.useTexts)(g.module.specifier),[,o]=h.default.useState(e?.model?.assignments);var c,l;return(0,v.useBinder)([e],()=>{a(e.ready),i(e.error),o(e.model?.assignments)}),t&&r?n?h.default.createElement(d.NotFound,{texts:s,textsReady:r}):(l=(c=e.model.assignments)?.length?p.List:u.EmptyList,h.default.createElement(f.ListContext.Provider,{value:{store:e,items:c,texts:s,fetching:e.fetching}},h.default.createElement(m.Header,null),h.default.createElement("main",{className:"page__container"},h.default.createElement(d.HeaderCard,{option:"light",title:e.model.name},h.default.createElement("p",{className:"header-container__subtitle"}," ",s.description," ")),h.default.createElement(d.SubDivider,{title:s.dividerTitle}),h.default.createElement(l,null)))):h.default.createElement(d.PageLoader,{fetching:!0})};var d=e("@aimpact/ailearn-app/components/ui"),u=e("./list/empty"),m=e("./header"),p=e("./list"),f=e("./context"),h=e("react"),g=e("beyond_context"),v=e("@beyond-js/react-18-widgets/hooks")}}),g.set("./views/list/LessonInfo",{hash:1155994592,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.LessonInfo=function({assignmentId:a,topics:e}){return a&&e?n.default.createElement("section",{className:"item__actions"},e.map(e=>{var t=`/assignments/dashboard/${a}.${e.id}/classwork`;return n.default.createElement(i.Link,{key:t,href:t},e.title)})):null};var n=e("react"),i=e("pragmate-ui/components")}}),g.set("./views/list/empty",{hash:1244498565,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.EmptyList=function(){var e=(0,i.useListContext)().texts;return a.default.createElement(n.EmptyCard,{text:e.empty,icon:"info"})};var a=e("react"),n=e("@aimpact/ailearn-app/components/ui"),i=e("../context")}}),g.set("./views/list/index",{hash:3476004597,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.List=function(){var e=(0,i.useListContext)().items;return a.default.createElement(r.List,{className:"list__container",items:e,control:n.Item})};var a=e("react"),n=e("./item"),i=e("../context"),r=e("pragmate-ui/list")}}),g.set("./views/list/item",{hash:3554530366,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Item=function({data:e}){var t=(0,r.useListContext)().texts,a=["conversation","debate","character-talk","content-theory"].includes(e.id)||"multiple-choice"!==e.id?e.id:"assessment",n={image:e.module.picture};return i.default.createElement(s.Card,{data:n,link:"/assignments/"+a},i.default.createElement(s.CardContent,{option:"column",className:"theme-0"},i.default.createElement("section",{className:"card-footer__container"},i.default.createElement("h4",{className:"card__title"},e.module.title),i.default.createElement("span",{className:"card__subtitle p2"},e.module.description)),i.default.createElement("div",{className:"card__footer-actions"},i.default.createElement("hr",{className:"card__divider"}),i.default.createElement("div",{className:"card__details"},i.default.createElement("span",{className:"card__text-hover p2"},t.moduleAccess)))))};var i=e("react"),r=e("../context"),s=e("@aimpact/ailearn-app/components/ui")}}),h.exports.descriptor=[{im:"./controller",from:"Controller",name:"Controller"},{im:"./views/index",from:"View",name:"View"}],h.exports.process=function({require:e,prop:t,value:a}){!e&&"Controller"!==t||n("Controller",e?e("./controller").Controller:a),!e&&"View"!==t||n("View",e?e("./views/index").View:a)},n("__beyond_pkg",h),n("hmr",new function(){this.on=(e,t)=>h.hmr.on(e,t),this.off=(e,t)=>h.hmr.off(e,t)}),h.initialise(g)}}});