System.register(["@beyond-js/widgets@1.1.0/render","@beyond-js/kernel@0.1.9/bundle","@beyond-js/kernel@0.1.9/styles","@beyond-js/react-18-widgets@1.1.2/page","@beyond-js/reactive@1.1.12/model","@beyond-js/kernel@0.1.9/texts","react@18.2.0","@aimpact/ailearn-app@0.0.46/components/ui","@beyond-js/react-18-widgets@1.1.2/hooks","pragmate-ui@0.1.1/components","@aimpact/chat-sdk@1.0.0/session","pragmate-ui@0.1.1/image","@beyond-js/kernel@0.1.9/routing"],function(r,e){"use strict";var t,n,o,a,i,s,c,d,l,u,p,g,m,y,f;return r({Controller:void 0,View:void 0}),{setters:[function(e){t=e},function(e){n=e},function(e){o=e},function(e){a=e},function(e){i=e},function(e){s=e},function(e){c=e},function(e){d=e},function(e){l=e},function(e){u=e},function(e){p=e},function(e){g=e},function(e){m=e}],execute:function(){f=n.Bundle,(y=new f({module:{vspecifier:"@aimpact/ailearn-app@0.0.46/pages/updating",multibundle:!0},type:"widget"},e.meta.url).package()).dependencies.update([["@beyond-js/widgets/render",t],["@beyond-js/kernel/styles",o],["@beyond-js/react-18-widgets/page",a],["@beyond-js/reactive/model",i],["@beyond-js/kernel/texts",s],["react",c],["@aimpact/ailearn-app/components/ui",d],["@beyond-js/react-18-widgets/hooks",l],["pragmate-ui/components",u],["@aimpact/chat-sdk/session",p],["pragmate-ui/image",g],["@beyond-js/kernel/routing",m]]),brequire("@beyond-js/widgets/render").widgets.register([{name:"app-updating-page",vspecifier:"@aimpact/ailearn-app@0.0.46/pages/updating.widget",is:"page",route:"/updating"}]),brequire("@beyond-js/kernel/styles").styles.register("@aimpact/ailearn-app@0.0.46/pages/updating.widget"),(f=new Map).set("./controller",{hash:1927493790,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Controller=void 0;var n=e("@beyond-js/react-18-widgets/page"),r=e("./store"),o=e("./views");class a extends n.PageReactWidgetController{#store;createStore(){return this.#store=new r.StoreManager,this.#store}get Widget(){return o.View}show(){}hide(){}}t.Controller=a}}),f.set("./store",{hash:11353178,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.StoreManager=void 0;var n=e("@beyond-js/reactive/model"),r=e("@beyond-js/kernel/texts"),o=e("beyond_context");class a extends n.ReactiveModel{#texts=new r.CurrentTexts(o.module.specifier);get texts(){return this.#texts?.value}get ready(){return super.ready&&this.#texts.ready}constructor(){super(),super.ready=!0,this.#texts.on("change",this.triggerEvent)}}t.StoreManager=a}}),f.set("./views/index",{hash:221007402,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.View=function({store:e}){const[t,n]=d.useState(e.ready),[r,o]=d.useState(e.fetching),[a,i]=d.useState(e.texts?.text);if((0,u.useBinder)([e],()=>n(e.ready)),!t)return null;const s=e["texts"],c="updating__container"+(r?" is-fetching":"");return d.createElement(l.PageContainer,null,d.createElement("div",{className:c},d.createElement(m.Image,{src:"/assets/rvd/RVD.AI.Branding.png",alt:"RVD.AI"}),d.createElement("h1",null,s.title),d.createElement("p",null,a??s.text),d.createElement(p.Button,{variant:"primary",bordered:!0,onClick:async e=>{e.stopPropagation(),o(!0);try{console.log(.1);var t=await g.sessionWrapper.user.load();console.log(.2),503===t?.error?.code?i(s.updating):y.routing.replaceState({},null,"/")}catch(e){console.error(e),i(s.updating)}finally{o(!1)}},loading:r,disabled:r},s.action)))};var d=e("react"),l=e("@aimpact/ailearn-app/components/ui"),u=e("@beyond-js/react-18-widgets/hooks"),p=e("pragmate-ui/components"),g=e("@aimpact/chat-sdk/session"),m=e("pragmate-ui/image"),y=e("@beyond-js/kernel/routing")}}),y.exports.descriptor=[{im:"./controller",from:"Controller",name:"Controller"},{im:"./views/index",from:"View",name:"View"}],y.exports.process=function({require:e,prop:t,value:n}){!e&&"Controller"!==t||r("Controller",e?e("./controller").Controller:n),!e&&"View"!==t||r("View",e?e("./views/index").View:n)},r("__beyond_pkg",y),r("hmr",new function(){this.on=(e,t)=>y.hmr.on(e,t),this.off=(e,t)=>y.hmr.off(e,t)}),y.initialise(f)}}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi90cy9jb250cm9sbGVyLnRzIiwiL3RzL3N0b3JlLnRzIiwiL3RzL3ZpZXdzL2luZGV4LnRzeCJdLCJuYW1lcyI6WyJfcGFnZSIsInJlcXVpcmUiLCJfc3RvcmUiLCJfdmlld3MiLCJDb250cm9sbGVyIiwiUGFnZVJlYWN0V2lkZ2V0Q29udHJvbGxlciIsIiNzdG9yZSIsImNyZWF0ZVN0b3JlIiwidGhpcyIsIlN0b3JlTWFuYWdlciIsIldpZGdldCIsIlZpZXciLCJzaG93IiwiaGlkZSIsImV4cG9ydHMiLCJfbW9kZWwiLCJfdGV4dHMiLCJfYmV5b25kX2NvbnRleHQiLCJSZWFjdGl2ZU1vZGVsIiwiI3RleHRzIiwiQ3VycmVudFRleHRzIiwibW9kdWxlIiwic3BlY2lmaWVyIiwidGV4dHMiLCJ2YWx1ZSIsInJlYWR5Iiwic3VwZXIiLCJjb25zdHJ1Y3RvciIsIm9uIiwidHJpZ2dlckV2ZW50Iiwic3RvcmUiLCJzZXRSZWFkeSIsIlJlYWN0IiwidXNlU3RhdGUiLCJmZXRjaGluZyIsInNldEZldGNoaW5nIiwidGV4dCIsInNldFRleHQiLCJfaG9va3MiLCJ1c2VCaW5kZXIiLCJjbHMiLCJjcmVhdGVFbGVtZW50IiwiX3VpIiwiUGFnZUNvbnRhaW5lciIsImNsYXNzTmFtZSIsIl9pbWFnZSIsIkltYWdlIiwic3JjIiwiYWx0IiwidGl0bGUiLCJfY29tcG9uZW50cyIsIkJ1dHRvbiIsInZhcmlhbnQiLCJib3JkZXJlZCIsIm9uQ2xpY2siLCJldmVudCIsInN0b3BQcm9wYWdhdGlvbiIsImNvbnNvbGUiLCJsb2ciLCJkYXRhIiwiYXdhaXQiLCJfc2Vzc2lvbiIsInNlc3Npb25XcmFwcGVyIiwidXNlciIsImxvYWQiLCJlcnJvciIsImNvZGUiLCJ1cGRhdGluZyIsIl9yb3V0aW5nIiwicm91dGluZyIsInJlcGxhY2VTdGF0ZSIsImUiLCJsb2FkaW5nIiwiZGlzYWJsZWQiLCJhY3Rpb24iXSwibWFwcGluZ3MiOiJtdURBQUEsSUFBQUEsRUFBQUMsRUFBQSxrQ0FB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