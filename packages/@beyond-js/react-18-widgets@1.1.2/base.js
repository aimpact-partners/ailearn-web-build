System.register(["@beyond-js/kernel@0.1.9/bundle","@beyond-js/widgets@1.1.0/controller","react@18.2.0","react-dom@18.2.0/client","@beyond-js/widgets@1.1.0/routing"],function(o,e){"use strict";var t,r,n,s,i,d,l;return o({IWidgetProps:void 0,IPageWidgetProps:void 0,ReactWidgetController:void 0}),{setters:[function(e){t=e},function(e){r=e},function(e){n=e},function(e){s=e},function(e){i=e}],execute:function(){l=t.Bundle,(d=new l({module:{vspecifier:"@beyond-js/react-18-widgets@1.1.2/base"},type:"ts"},e.meta.url).package()).dependencies.update([["@beyond-js/widgets/controller",r],["react",n],["react-dom/client",s],["@beyond-js/widgets/routing",i]]),(l=new Map).set("./controller",{hash:2404965063,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ReactWidgetController=void 0;var l=e("react"),a=e("react-dom/client"),r=e("@beyond-js/widgets/controller"),c=e("./widget"),g=e("./wrapper");class o extends r.WidgetClientController{#wrapper;#root;#mounted=!1;get mounted(){return this.#mounted}get Widget(){return null}mount(e){if(!this.#mounted){if(this.#mounted=!0,!this.Widget)return{errors:[`Widget "${this.element}" does not export a Widget class`]};e=Object.assign({widget:this.widget,attributes:this.attributes,component:this.widget,store:this.store},e||{});const d=this.widget.holder;var t=!!d.children.length;try{var r=this.#wrapper=new g.Wrapper(this),{styles:o,widget:n}=this;const d=n["holder"];var s={wrapper:r,props:e,styles:o,holder:d,hydrate:t},i=l.createElement(c.default,s);t?this.#root=(0,a.hydrateRoot)(d,i):(this.#root=(0,a.createRoot)(d)).render(i)}catch(e){console.log(`Error rendering widget "${this.widget.localName}":`),console.log(e.stack)}}}unmount(){this.#mounted&&(this.#mounted=!1,globalThis.setTimeout(()=>this.#root.unmount(),0))}refresh(){this.#wrapper.changed()}}t.ReactWidgetController=o}}),l.set("./styles",{hash:3367909987,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({styles:r}){const t=o.useState(0),e=(o.useEffect(()=>{const e=()=>t[1](e=>e+1);return r.on("change",e),()=>r.off("change",e)&&void 0},[]),[...r.resources].map(e=>{var t=()=>r.onloaded(e);return o.createElement("link",{key:e,href:e,rel:"stylesheet",onLoad:t,onError:t})}));return o.createElement(o.Fragment,null,e)};var o=e("react")}}),l.set("./widget",{hash:2641106731,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({wrapper:e,props:t,styles:r,holder:o,hydrate:n}){const s=[],i=(s.push(g.createElement(u.default,{key:"styles",styles:r,widget:t.widget})),g.useState(0)),d=()=>i[1](i[0]+1),l=(e.changed=d,r.loaded||r.ready.then(d),o.style.display="",r.loaded),a=e["Widget"],c=g.createElement(a,{key:"widget",...t});return(n||l)&&s.push(c),g.createElement(g.Fragment,null,s)};var g=e("react"),u=e("./styles")}}),l.set("./wrapper",{hash:4085792261,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Wrapper=void 0;t.Wrapper=class{#Widget;get Widget(){return this.#Widget.Widget}changed=()=>{};constructor(e){this.#Widget=e}}}}),d.exports.descriptor=[{im:"./controller",from:"IWidgetProps",name:"IWidgetProps"},{im:"./controller",from:"IPageWidgetProps",name:"IPageWidgetProps"},{im:"./controller",from:"ReactWidgetController",name:"ReactWidgetController"}],d.exports.process=function({require:e,prop:t,value:r}){!e&&"IWidgetProps"!==t||o("IWidgetProps",e?e("./controller").IWidgetProps:r),!e&&"IPageWidgetProps"!==t||o("IPageWidgetProps",e?e("./controller").IPageWidgetProps:r),!e&&"ReactWidgetController"!==t||o("ReactWidgetController",e?e("./controller").ReactWidgetController:r)},o("__beyond_pkg",d),o("hmr",new function(){this.on=(e,t)=>d.hmr.on(e,t),this.off=(e,t)=>d.hmr.off(e,t)}),d.initialise(l)}}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9jb250cm9sbGVyLnRzIiwiL3N0eWxlcy50c3giLCIvd2lkZ2V0LnRzeCIsIi93cmFwcGVyLnRzIl0sIm5hbWVzIjpbIlJlYWN0IiwicmVxdWlyZSIsIl9jbGllbnQiLCJfY29udHJvbGxlciIsIl93aWRnZXQiLCJfd3JhcHBlciIsIlJlYWN0V2lkZ2V0Q29udHJvbGxlciIsIldpZGdldENsaWVudENvbnRyb2xsZXIiLCIjd3JhcHBlciIsIiNyb290IiwiI21vdW50ZWQiLCJtb3VudGVkIiwidGhpcyIsIldpZGdldCIsIm1vdW50IiwicHJvcHMiLCJlcnJvcnMiLCJlbGVtZW50IiwiT2JqZWN0IiwiYXNzaWduIiwid2lkZ2V0IiwiYXR0cmlidXRlcyIsImNvbXBvbmVudCIsInN0b3JlIiwiaG9sZGVyIiwiaHlkcmF0ZSIsImNoaWxkcmVuIiwibGVuZ3RoIiwid3JhcHBlciIsIldyYXBwZXIiLCJzdHlsZXMiLCJwIiwiY3JlYXRlRWxlbWVudCIsImRlZmF1bHQiLCJoeWRyYXRlUm9vdCIsImNyZWF0ZVJvb3QiLCJyZW5kZXIiLCJleGMiLCJjb25zb2xlIiwibG9nIiwibG9jYWxOYW1lIiwic3RhY2siLCJ1bm1vdW50IiwiZ2xvYmFsVGhpcyIsInNldFRpbWVvdXQiLCJyZWZyZXNoIiwiY2hhbmdlZCIsImV4cG9ydHMiLCJycyIsInVzZVN0YXRlIiwiaGVhZCIsInVzZUVmZmVjdCIsInByZXYiLCJvbiIsIm9mZiIsInJlc291cmNlcyIsIm1hcCIsInVybCIsImxvYWRlZCIsIm9ubG9hZGVkIiwia2V5IiwiaHJlZiIsInJlbCIsIm9uTG9hZCIsIm9uRXJyb3IiLCJGcmFnbWVudCIsImVsZW1lbnRzIiwicHVzaCIsIl9zdHlsZXMiLCJyZWFkeSIsInRoZW4iLCJzdHlsZSIsImRpc3BsYXkiLCIjV2lkZ2V0IiwiY29uc3RydWN0b3IiXSwibWFwcGluZ3MiOiJteUJBRUEsSUFBQUEsRUFBQUMsRUFBQSxPQUFBLEVBQ0FDLEVBQUFELEVBQUEsa0JBQUEsRUFDQUUs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