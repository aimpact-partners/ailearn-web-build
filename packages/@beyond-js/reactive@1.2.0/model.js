System.register(["@beyond-js/kernel@0.1.9/bundle","@beyond-js/events@0.0.7/events"],function(r,e){"use strict";var t,i,s,o;return r({ReactiveModel:void 0,IReactiveProperties:void 0,ReactiveModelPublic:void 0}),{setters:[function(e){t=e},function(e){i=e}],execute:function(){o=t.Bundle,(s=new o({module:{vspecifier:"@beyond-js/reactive@1.2.0/model"},type:"ts"},e.meta.url).package()).dependencies.update([["@beyond-js/events/events",i]]),(o=new Map).set("./index",{hash:3740865339,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ReactiveModel=void 0;class i extends e("@beyond-js/events/events").Events{schema;#isReactive=!0;debounceTimeout;batchUpdates=!1;#ready=!1;#initialValues={};properties=[];fetching;fetched=!1;processing=!1;processed=!1;loaded=!1;get isReactive(){return this.#isReactive}get ready(){return this.#ready}set ready(e){e!==this.#ready&&(this.#ready=e,this.triggerEvent())}get isUnpublished(){const t=this.getProperties();return Object.keys(t).some(e=>"id"!==e&&"object"!=typeof e&&t[e]!==this.#initialValues[e])}constructor(e){super(),e=e||{},this.reactiveProps(["fetching","fetched","processing","processed","loaded"]),e.properties&&Array.isArray(e.properties)&&(this.properties=e.properties,this.reactiveProps(e.properties,e)),e&&this.initialValues(e)}#setProperties(e){}initialValues(e){return e?(delete(e={...e}).properties,this.#initialValues=e,this.initialValues):this.#initialValues}reactiveProps(e,t){for(const r of e){var i=Object.getOwnPropertyDescriptor(this,r),i=t?.[r]?t[r]:i?i.value:void 0;this.defineReactiveProp(r,i)}}defineReactiveProp(e,t){const i="#"+String(e);Object.defineProperty(this,e,{get:()=>(Object.prototype.hasOwnProperty.call(this,i)||(this[i]=t),this[i]),set:e=>{e!==this[i]&&(this[i]=e,this.triggerEvent())},enumerable:!0,configurable:!0})}triggerEvent=(e="change",t)=>{this.trigger(e),this.debounceTimeout=null};set(e,t=!1){t&&(this.batchUpdates=!0),this.#set(e),t&&(this.batchUpdates=!1,this.triggerEvent())}isSameObject=(e,t)=>JSON.stringify(e)===JSON.stringify(t);#set(i,e=!0){let r=!1;if(i)try{Object.keys(i).forEach(e=>{var t;this.properties&&this.properties.includes(e)&&(t="object"==typeof i[e]&&this.isSameObject(i[e],this[e]),this[e]===i[e]||t||Object.getOwnPropertyDescriptor(this,e)?.set&&(this[e]=i[e],r=!0))})}catch(e){throw new Error("Error setting properties: "+e.message)}finally{e&&r&&!this.batchUpdates&&this.triggerEvent()}}getProperties(){const t={};return this.properties.forEach(e=>{"object"==typeof e?Object.prototype.hasOwnProperty.call(e,"name")&&("collection"===e.type?t[e.name]=this[e.name].items.map(e=>e.getProperties()):t[e.name]=this[e.name]):t[e]=this[e]}),t}}t.ReactiveModel=i}}),o.set("./interfaces/initial-values",{hash:3875886425,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})}}),o.set("./interfaces/reactive-constructor-specs",{hash:2489854459,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})}}),o.set("./interfaces/reactive-props",{hash:620798412,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})}}),o.set("./interfaces/reactive-public-props",{hash:1896226094,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})}}),s.exports.descriptor=[{im:"./index",from:"ReactiveModel",name:"ReactiveModel"},{im:"./interfaces/reactive-props",from:"IReactiveProperties",name:"IReactiveProperties"},{im:"./interfaces/reactive-public-props",from:"ReactiveModelPublic",name:"ReactiveModelPublic"}],s.exports.process=function({require:e,prop:t,value:i}){!e&&"ReactiveModel"!==t||r("ReactiveModel",e?e("./index").ReactiveModel:i),!e&&"IReactiveProperties"!==t||r("IReactiveProperties",e?e("./interfaces/reactive-props").IReactiveProperties:i),!e&&"ReactiveModelPublic"!==t||r("ReactiveModelPublic",e?e("./interfaces/reactive-public-props").ReactiveModelPublic:i)},r("__beyond_pkg",s),r("hmr",new function(){this.on=(e,t)=>s.hmr.on(e,t),this.off=(e,t)=>s.hmr.off(e,t)}),s.initialise(o)}}});