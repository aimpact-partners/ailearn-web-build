System.register(["@beyond-js/kernel@0.1.9/bundle","@beyond-js/events@0.0.7/events"],function(i,e){"use strict";var t,r,s,o;return i({ReactiveModel:void 0,IReactiveConstructorSpecs:void 0,IReactiveProperties:void 0,ReactiveModelPublic:void 0,reactiveProps:void 0}),{setters:[function(e){t=e},function(e){r=e}],execute:function(){o=t.Bundle,(s=new o({module:{vspecifier:"@beyond-js/reactive@1.1.12/model"},type:"ts"},e.meta.url).package()).dependencies.update([["@beyond-js/events/events",r]]),(o=new Map).set("./index",{hash:2003095831,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ReactiveModel=void 0;class r extends e("@beyond-js/events/events").Events{schema;#isReactive=!0;get isReactive(){return this.#isReactive}fetching;fetched=!1;processing=!1;processed=!1;#ready=!1;get ready(){return this.#ready}set ready(e){e!==this.#ready&&(this.#ready=e,this.triggerEvent())}properties;loaded=!1;#initialValues={};get isUnpublished(){const t=this.getProperties();return Object.keys(t).some(e=>"id"!==e&&"object"!=typeof e&&t[e]!==this.#initialValues[e])}constructor(e={}){super(),this.reactiveProps(["fetching","fetched","processing","processed","loaded"]),e.properties&&Array.isArray(e.properties)&&(this.properties=e.properties),e&&this.initialValues(e)}initialValues(e){if(!e)return this.#initialValues;delete(e={...e}).properties,this.#set(e),this.#initialValues=e}reactiveProps(e){for(const r of e){var t=(t=Object.getOwnPropertyDescriptor(this,r))?t.value:void 0;this.defineReactiveProp(r,t)}}defineReactiveProp(e,t){const r="__"+String(e);Object.defineProperty(this,e,{get(){return this.hasOwnProperty(r)||(this[r]=t),this[r]},set(e){e!==this[r]&&(this[r]=e,this.triggerEvent())},enumerable:!0,configurable:!0})}triggerEvent=(e="change")=>{globalThis.setTimeout(()=>{this.trigger(e)},0)};#set(r){let i=!1;try{Object.keys(r).forEach(e=>{var t;this.properties&&this.properties.includes(e)&&(t="object"==typeof r[e]&&JSON.stringify(r[e])===JSON.stringify(this[e]),this[e]===r[e]||t||Object.getOwnPropertyDescriptor(this,e)?.set||(this[e]=r[e],i=!0))})}catch(e){throw new Error("Error setting properties: "+e)}finally{i&&this.triggerEvent()}}set(e){this.#set(e)}getProperties(){const t={};return(this.properties||this.skeleton).forEach(e=>{if("object"==typeof e){if(!e.hasOwnProperty("name"))return;if("collection"===e.type)return void(t[e.name]=this[e.name].items.map(e=>e.getProperties()));t[e.name]=this[e.name]}t[e]=this[e]}),t}}t.ReactiveModel=r}}),o.set("./interfaces/initial-values",{hash:3875886425,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})}}),o.set("./interfaces/reactive-constructor-specs",{hash:383762538,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})}}),o.set("./interfaces/reactive-props",{hash:2165090548,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})}}),o.set("./interfaces/reactive-public-props",{hash:1896226094,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})}}),o.set("./property",{hash:3124326805,creator:function(e,t){function o(t,r,e){const i="__"+String(r);Object.defineProperty(t,r,{get(){return t.hasOwnProperty(i)||(t[i]=e),t[i]},set(e){t.setReactiveProp(r,e)},enumerable:!0,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),t.defineReactiveProp=o,t.reactiveProps=function(s){return function(e){var t="prototype"in e?e.prototype:e;for(const i of s){var r=(r=Object.getOwnPropertyDescriptor(t,i))?r.value:void 0;o(t,i,r)}}}}}),s.exports.descriptor=[{im:"./index",from:"ReactiveModel",name:"ReactiveModel"},{im:"./interfaces/reactive-constructor-specs",from:"IReactiveConstructorSpecs",name:"IReactiveConstructorSpecs"},{im:"./interfaces/reactive-props",from:"IReactiveProperties",name:"IReactiveProperties"},{im:"./interfaces/reactive-public-props",from:"ReactiveModelPublic",name:"ReactiveModelPublic"},{im:"./property",from:"reactiveProps",name:"reactiveProps"}],s.exports.process=function({require:e,prop:t,value:r}){!e&&"ReactiveModel"!==t||i("ReactiveModel",e?e("./index").ReactiveModel:r),!e&&"IReactiveConstructorSpecs"!==t||i("IReactiveConstructorSpecs",e?e("./interfaces/reactive-constructor-specs").IReactiveConstructorSpecs:r),!e&&"IReactiveProperties"!==t||i("IReactiveProperties",e?e("./interfaces/reactive-props").IReactiveProperties:r),!e&&"ReactiveModelPublic"!==t||i("ReactiveModelPublic",e?e("./interfaces/reactive-public-props").ReactiveModelPublic:r),!e&&"reactiveProps"!==t||i("reactiveProps",e?e("./property").reactiveProps:r)},i("__beyond_pkg",s),i("hmr",new function(){this.on=(e,t)=>s.hmr.on(e,t),this.off=(e,t)=>s.hmr.off(e,t)}),s.initialise(o)}}});