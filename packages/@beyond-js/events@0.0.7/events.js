System.register(["@beyond-js/kernel@0.1.9/bundle"],function(r,e){var t,s,n;return r({Events:void 0,ListenerFunction:void 0}),{setters:[function(e){t=e}],execute:function(){n=t.Bundle,(s=new n({module:{vspecifier:"@beyond-js/events@0.0.7/events"},type:"ts"},e.meta.url).package()).dependencies.update([]),(n=new Map).set("./events",{hash:1607618800,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Events=void 0;class s{#specs;#listeners=new Map;#destroyed=!1;get destroyed(){return this.#destroyed}constructor(e){if((e=e||{}).supported&&!(e.supported instanceof Array))throw new Error("Invalid parameters");(this.#specs=e).bind&&(e.bind.bind=(e,t,s)=>this.on(e,t,s),e.bind.unbind=(e,t)=>this.off(e,t))}on(e,t,s){if(this.#destroyed)throw new Error("Events object is destroyed");if(this.#specs.supported&&!this.#specs.supported.includes(e))throw new Error(`Event "${e}" is not defined`);if("function"!=typeof t)throw new Error("Listener is not a function");this.off(e,t);var r=this.#listeners.has(e)?this.#listeners.get(e):[];return this.#listeners.set(e,r),r.push({listener:t,priority:s||0}),this}bind=(e,t,s)=>this.on(e,t,s);off(e,t,s){if(this.#destroyed)throw new Error("Events object is destroyed");if(!e)throw new Error("Event name not specified");if(this.#specs.supported&&!this.#specs.supported.includes(e))throw new Error(`Event "${e}" is not defined`);var r;if(t)return this.#listeners.has(e)&&(r=this.#listeners.get(e).filter(e=>e.listener!==t),this.#listeners.set(e,r)),this;if(s)return this.#listeners.delete(e),this;throw new Error("Listener function not set")}unbind=(e,t,s)=>this.off(e,t,s);trigger(e){if(this.#destroyed)throw new Error("Events object is destroyed");if("object"==typeof e&&console.trace(e),"object"!=typeof(e="string"==typeof e?{name:e}:e))throw new Error("Invalid parameters");if("string"!=typeof e.name)throw new Error("Invalid event name");if(this.#specs.supported&&!this.#specs.supported.includes(e.name))throw new Error(`Event "${e.name}" is not defined`);let r=[...arguments];if(r.shift(),this.#listeners.has(e.name)){let s=this.#listeners.get(e.name);var t;if(s.sort((e,t)=>t.priority-e.priority),e.async)return async function(){var e,t=[];for(e of s)t.push(e.listener(...r));await Promise.all(t)}.call(this,...r).catch(e=>console.error(e.stack));for(t of s)t.listener(...r)}}destroy(){this.#destroyed=!0,this.#listeners.clear()}}t.Events=s,globalThis.Events=s}}),n.set("./types",{hash:1632705009,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})}}),s.exports.descriptor=[{im:"./events",from:"Events",name:"Events"},{im:"./types",from:"ListenerFunction",name:"ListenerFunction"}],s.exports.process=function({require:e,prop:t,value:s}){!e&&"Events"!==t||r("Events",e?e("./events").Events:s),!e&&"ListenerFunction"!==t||r("ListenerFunction",e?e("./types").ListenerFunction:s)},r("__beyond_pkg",s),r("hmr",new function(){this.on=(e,t)=>s.hmr.on(e,t),this.off=(e,t)=>s.hmr.off(e,t)}),s.initialise(n)}}});