System.register(["@beyond-js/kernel@0.1.9/bundle","@beyond-js/kernel@0.1.9/styles","react@18.2.0","@aimpact/chat@1.0.2/sidebar/manager","@beyond-js/react-18-widgets@1.1.2/hooks","pragmate-ui@1.0.0-beta.1/icons","@aimpact/chat@1.0.2/shared/icons","pragmate-ui@1.0.0-beta.1/link","pragmate-ui@1.0.0-beta.1/tooltip","@beyond-js/kernel@0.1.9/routing","pragmate-ui@1.0.0-beta.1/components","@aimpact/chat@1.0.2/extensions","pragmate-ui@1.0.0-beta.1/image","@aimpact/chat-sdk@1.0.1/session","@aimpact/chat@1.0.2/shared/components"],function(i,e){var t,a,n,r,o,c,s,l,u,d,m,p,f,g,h,b,v;return i({AppLogo:void 0,ProfileIcon:void 0,Sidebar:void 0}),{setters:[function(e){t=e},function(e){a=e},function(e){n=e},function(e){r=e},function(e){o=e},function(e){c=e},function(e){s=e},function(e){l=e},function(e){u=e},function(e){d=e},function(e){m=e},function(e){p=e},function(e){f=e},function(e){g=e},function(e){h=e}],execute:function(){v=t.Bundle,(b=new v({module:{vspecifier:"@aimpact/chat@1.0.2/sidebar/ui"},type:"code"},e.meta.url).package()).dependencies.update([["@beyond-js/kernel/styles",a],["react",n],["@aimpact/chat/sidebar/manager",r],["@beyond-js/react-18-widgets/hooks",o],["pragmate-ui/icons",c],["@aimpact/chat/shared/icons",s],["pragmate-ui/link",l],["pragmate-ui/tooltip",u],["@beyond-js/kernel/routing",d],["pragmate-ui/components",m],["@aimpact/chat/extensions",p],["pragmate-ui/image",f],["@aimpact/chat-sdk/session",g],["@aimpact/chat/shared/components",h]]),brequire("@beyond-js/kernel/styles").styles.register("@aimpact/chat@1.0.2/sidebar/ui"),(v=new Map).set("./activity-bar/index",{hash:3403001104,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){let[e,t]=n.default.useState(Array.from(c.SidebarManager.items.values())),[a,i]=n.default.useState(Array.from(c.SidebarManager.bottomItems.values()));return(0,s.useBinder)([c.SidebarManager],()=>{t(Array.from(c.SidebarManager.items.values())),i(Array.from(c.SidebarManager.bottomItems.values()))}),n.default.createElement(n.default.Fragment,null,n.default.createElement("aside",{className:"aside-bar"},n.default.createElement("section",{className:"aside__top"},n.default.createElement(o.AppLogo,null)),n.default.createElement(r.ListItems,{items:e,className:"aside__nav"}),n.default.createElement(r.ListItems,{items:a,className:"aside__footer"})))};var n=e("react"),r=e("./list"),o=e("../icons/app-logo"),c=e("@aimpact/chat/sidebar/manager"),s=e("@beyond-js/react-18-widgets/hooks")}}),v.set("./activity-bar/item/control",{hash:436944484,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ItemControl=function({item:e,isActive:t}){return t="nav__item circle md "+(t?" nav__item--active":""),e.control?a.default.createElement(e.control,{icon:e.icon,lassName:t}):(e=n.ICONS.hasOwnProperty(e.icon)?n.ICONS[e.icon]:e.icon,a.default.createElement(i.IconButton,{icon:e,className:t}))};var a=e("react"),i=e("pragmate-ui/icons"),n=e("@aimpact/chat/shared/icons")}}),v.set("./activity-bar/item/index",{hash:416632896,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ActivityBarLink=void 0;var p=e("react"),f=e("pragmate-ui/link"),g=e("pragmate-ui/tooltip"),h=e("@beyond-js/kernel/routing"),b=e("@beyond-js/react-18-widgets/hooks"),v=e("../../context"),y=e("./control");t.ActivityBarLink=({item:a})=>{let{name:e,href:t,Explorer:i,action:n,link:r,id:o}=a;var c=!i&&!n;let[s,l]=p.default.useState(h.routing.uri.pathname.includes(t)),u=(0,v.useSidebarContext)().toggleActionMenu,d=((0,b.useBinder)([h.routing],()=>{var e=h.routing.uri.pathname.includes(t)||h.routing.uri.pathname.includes(o);l(e)}),{className:""});a.attributes&&(d={...a.attributes}),c&&(d.href="/"+t);var c=a.title??e,m=!1===r?"span":f.Link;return p.default.createElement(g.Tooltip,{content:c,placement:"right",key:a.id},p.default.createElement(m,{...d,onClick:e=>{e.stopPropagation(),e.preventDefault();var t=a.onClick??a.action;if(t)return t(e);u(a)},className:"aside-item"},p.default.createElement(y.ItemControl,{isActive:s,item:a})))}}}),v.set("./activity-bar/list",{hash:1420341788,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ListItems=function({items:e=[],className:t}){return a.default.createElement("section",{className:t},e.map((e,t)=>a.default.createElement(i.ActivityBarLink,{item:e,key:t})))};var a=e("react"),i=e("./item")}}),v.set("./context",{hash:2122402811,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.useSidebarContext=t.SidebarContext=void 0;var a=e("react");let i=t.SidebarContext=a.default.createContext({});t.useSidebarContext=()=>a.default.useContext(i)}}),v.set("./explorer",{hash:2576305374,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ExplorerView=function(){var{open:e,active:t}=(0,n.useSidebarContext)(),{}=i.routing.uri;return t?.Explorer?(t=t.Explorer,a.default.createElement(a.default.Fragment,null,a.default.createElement("aside",{className:"explorer"+(e?" open":"")},a.default.createElement("div",{className:"sidebar-content"},a.default.createElement(t,null))))):null};var a=e("react"),i=e("@beyond-js/kernel/routing"),n=e("./context")}}),v.set("./icons/app-logo",{hash:4195591344,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AppLogo=function(){let[e,t]=o.default.useState(),[a,i]=o.default.useState({type:"icon",icon:l.ICONS.rvd}),n,r;return o.default.useEffect(()=>{u.extensions.load(["app-menu-icon"]).then(e=>{t(!0),e.length&&i(e[0])})},[]),e?(n="icon"===a.type?s.Icon:d.Image,r={},"img"===a.type?r.src=a.src:"icon"===a.type&&(r.icon=a.icon),o.default.createElement("div",{className:"aside-item"},o.default.createElement(c.Link,{href:"/"},o.default.createElement(n,{...r,className:"lg"})))):o.default.createElement("div",{className:"aside-item"},o.default.createElement(d.Image,{src:"#"}))};var o=e("react"),c=e("pragmate-ui/components"),s=e("pragmate-ui/icons"),l=e("@aimpact/chat/shared/icons"),u=e("@aimpact/chat/extensions"),d=e("pragmate-ui/image")}}),v.set("./icons/profile",{hash:2058794887,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ProfileIcon=void 0;var n=e("react"),r=e("pragmate-ui/icons"),o=e("@aimpact/chat-sdk/session");t.ProfileIcon=({onClick:e})=>{let[t,a]=n.default.useState(!1),i;if(o.sessionWrapper.user)return i=o.sessionWrapper.user.getProperties(),n.default.createElement("div",{className:"aside-item",onClick:e},t?n.default.createElement(r.Icon,{className:"lg",icon:"user"}):n.default.createElement("img",{alt:"user image profile",src:i.photoURL,onError:()=>a(!0)}))}}}),v.set("./index",{hash:3904242059,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Sidebar=function(){let[t,a]=r.default.useState(!1),[i,n]=r.default.useState();return r.default.createElement(s.SidebarContext.Provider,{value:{open:t,toggleActionMenu:e=>{i&&i.id!==e.id||a(!t),n(e)},active:i}},r.default.createElement("div",{className:"nav-wrapper"},r.default.createElement(o.default,null),r.default.createElement(c.ExplorerView,null)))};var r=e("react"),o=e("./activity-bar"),c=e("./explorer"),s=e("./context")}}),v.set("./registry",{hash:4254811252,creator:function(e,t){var a=e("@aimpact/chat/sidebar/manager"),i=e("@beyond-js/kernel/routing"),n=e("@aimpact/chat-sdk/session"),e=e("@aimpact/chat/shared/components");a.SidebarManager.register([{control:e.ThemeSwitcher,title:"Theme",id:"themeSwitcher",link:!1},{icon:"exit",id:"logout",title:"Logout",link:!1,onClick:async e=>{e.stopPropagation(),await n.sessionWrapper.logout(),i.routing.pushState("/auth/login")}}],"bottom")}}),b.exports.descriptor=[{im:"./icons/app-logo",from:"AppLogo",name:"AppLogo"},{im:"./icons/profile",from:"ProfileIcon",name:"ProfileIcon"},{im:"./index",from:"Sidebar",name:"Sidebar"}],b.exports.process=function({require:e,prop:t,value:a}){!e&&"AppLogo"!==t||i("AppLogo",e?e("./icons/app-logo").AppLogo:a),!e&&"ProfileIcon"!==t||i("ProfileIcon",e?e("./icons/profile").ProfileIcon:a),!e&&"Sidebar"!==t||i("Sidebar",e?e("./index").Sidebar:a)},i("__beyond_pkg",b),i("hmr",new function(){this.on=(e,t)=>b.hmr.on(e,t),this.off=(e,t)=>b.hmr.off(e,t)}),b.initialise(v)}}});