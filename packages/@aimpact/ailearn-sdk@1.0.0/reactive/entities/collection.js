System.register(["@beyond-js/kernel@0.1.9/bundle","@aimpact/ailearn-sdk@1.0.0/reactive/entities/item","@aimpact/ailearn-sdk@1.0.0/reactive/model"],function(r,e){var t,i,o,a,n;return r({Collection:void 0,ICollectionProvider:void 0}),{setters:[function(e){t=e},function(e){i=e},function(e){o=e}],execute:function(){n=t.Bundle,(a=new n({module:{vspecifier:"@aimpact/ailearn-sdk@1.0.0/reactive/entities/collection"},type:"ts"},e.meta.url).package()).dependencies.update([["@aimpact/ailearn-sdk/reactive/entities/item",i],["@aimpact/ailearn-sdk/reactive/model",o]]),(n=new Map).set("./index",{hash:1998615426,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Collection=void 0,e=e("@aimpact/ailearn-sdk/reactive/model");class i extends e.ReactiveModel{#entity;get entity(){return this.#entity}#dataProvider;get dataProvider(){return this.#dataProvider}#item;get Item(){return this.#item}#map=new Map;get map(){return this.#map}get items(){return[...this.#map.values()]}constructor({entity:e,dataProvider:t,item:i}){if(super(),this.#entity=e,t&&"function"!=typeof t)throw new Error("DataProvider must be a class/constructor");t&&(this.#dataProvider=new t(this)),this.#item=i}async load(e){if(!this.#dataProvider||"function"!=typeof this.#dataProvider.load)throw new Error("DataProvider is not defined or does not implement the load() method.");try{var t=await this.#dataProvider.list(e);if(!Array.isArray(t))throw new Error("DataProvider.load() did not return an array of items.");this.#map.clear(),t.forEach(e=>{var t=new this.#item(e);this.#map.set(e.id,t)}),this.triggerEvent("load",{items:this.#map})}catch(e){throw console.error("Error loading data:",e),e}}}t.Collection=i}}),n.set("./types",{hash:1740336354,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})}}),a.exports.descriptor=[{im:"./index",from:"Collection",name:"Collection"},{im:"./types",from:"ICollectionProvider",name:"ICollectionProvider"}],a.exports.process=function({require:e,prop:t,value:i}){!e&&"Collection"!==t||r("Collection",e?e("./index").Collection:i),!e&&"ICollectionProvider"!==t||r("ICollectionProvider",e?e("./types").ICollectionProvider:i)},r("__beyond_pkg",a),r("hmr",new function(){this.on=(e,t)=>a.hmr.on(e,t),this.off=(e,t)=>a.hmr.off(e,t)}),a.initialise(n)}}});