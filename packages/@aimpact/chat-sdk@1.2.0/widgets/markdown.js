System.register(["@beyond-js/kernel@0.1.9/bundle","@beyond-js/kernel@0.1.9/styles","react@18.2.0","marked-mangle@1.1.9","marked@5.1.2","marked-gfm-heading-id@3.2.0","katex@0.16.11","highlight.js@11.10.0","marked-highlight@2.1.4"],function(a,e){"use strict";var r,t,n,d,i,o,s,u,l,c,g;return a("Markdown",void 0),{setters:[function(e){r=e},function(e){t=e},function(e){n=e},function(e){d=e},function(e){i=e},function(e){o=e},function(e){s=e},function(e){u=e},function(e){l=e}],execute:function(){g=r.Bundle,(c=new g({module:{vspecifier:"@aimpact/chat-sdk@1.2.0/widgets/markdown"},type:"code"},e.meta.url).package()).dependencies.update([["@beyond-js/kernel/styles",t],["react",n],["marked-mangle",d],["marked",i],["marked-gfm-heading-id",o],["katex",s],["highlight.js",u],["marked-highlight",l]]),brequire("@beyond-js/kernel/styles").styles.register("@aimpact/chat-sdk@1.2.0/widgets/markdown"),(g=new Map).set("./markdown",{hash:3629865041,creator:function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.Markdown=function(e){var r=(0,a.useMarked)(e.content??e.children).output,e={...e};return""===r?null:t.default.createElement("div",{...e,dangerouslySetInnerHTML:{__html:r}})};var t=e("react"),a=e("./use-marked")}}),g.set("./use-marked",{hash:1883193896,creator:function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.useMarked=function(e){const[r,t]=a.default.useState("");return a.default.useEffect(()=>{!async function(e){i.marked.setOptions({breaks:!1}),i.marked.use((0,u.markedHighlight)({async:!0,langPrefix:"language-",highlight(e,r){return r=s.default.getLanguage(r)?r:"plaintext",s.default.highlight(e,{language:r}).value}}));let a=0;const n={},d="MATH_PLACEHOLDER_";e=(e=e.replace(/\\\((.*?)\\\)/g,(e,r)=>{var t=d+a++;return n[t]=o.default.renderToString(r,{displayMode:!1}),t})).replace(/\\\[(.*?)\\\]/gs,(e,r)=>{var t=d+a++;return n[t]=o.default.renderToString(r,{displayMode:!0}),t});let r=await(0,i.marked)(e,{breaks:!1});Object.keys(n).forEach(e=>{r=r.replace(new RegExp(e,"g"),n[e])}),t(r)}(e??"")},[e]),{ready:!!r,output:r}};var a=e("react"),r=e("marked-mangle"),i=e("marked"),t=e("marked-gfm-heading-id"),o=e("katex"),s=e("highlight.js"),u=e("marked-highlight");i.marked.use((0,r.mangle)()),i.marked.use((0,t.gfmHeadingId)({prefix:"my-prefix-"}))}}),c.exports.descriptor=[{im:"./markdown",from:"Markdown",name:"Markdown"}],c.exports.process=function({require:e,prop:r,value:t}){!e&&"Markdown"!==r||a("Markdown",e?e("./markdown").Markdown:t)},a("__beyond_pkg",c),a("hmr",new function(){this.on=(e,r)=>c.hmr.on(e,r),this.off=(e,r)=>c.hmr.off(e,r)}),c.initialise(g)}}});