System.register(["@beyond-js/kernel@0.1.9/bundle","@beyond-js/kernel@0.1.9/styles","react@18.2.0","@aimpact/chat@1.0.1/sidebar/manager","@beyond-js/react-18-widgets@1.1.2/hooks","pragmate-ui@0.1.1/icons","@aimpact/chat@1.0.1/shared/icons","pragmate-ui@0.1.1/link","pragmate-ui@0.1.1/tooltip","@beyond-js/kernel@0.1.9/routing","pragmate-ui@0.1.1/components","@aimpact/chat@1.0.1/extensions","pragmate-ui@0.1.1/image","@aimpact/chat-sdk@1.0.0/session","@aimpact/chat@1.0.1/shared/components"],function(n,e){"use strict";var t,a,i,r,o,c,s,l,u,d,m,p,f,g,h,v,b;return n({AppLogo:void 0,ProfileIcon:void 0,Sidebar:void 0}),{setters:[function(e){t=e},function(e){a=e},function(e){i=e},function(e){r=e},function(e){o=e},function(e){c=e},function(e){s=e},function(e){l=e},function(e){u=e},function(e){d=e},function(e){m=e},function(e){p=e},function(e){f=e},function(e){g=e},function(e){h=e}],execute:function(){b=t.Bundle,(v=new b({module:{vspecifier:"@aimpact/chat@1.0.1/sidebar/ui"},type:"code"},e.meta.url).package()).dependencies.update([["@beyond-js/kernel/styles",a],["react",i],["@aimpact/chat/sidebar/manager",r],["@beyond-js/react-18-widgets/hooks",o],["pragmate-ui/icons",c],["@aimpact/chat/shared/icons",s],["pragmate-ui/link",l],["pragmate-ui/tooltip",u],["@beyond-js/kernel/routing",d],["pragmate-ui/components",m],["@aimpact/chat/extensions",p],["pragmate-ui/image",f],["@aimpact/chat-sdk/session",g],["@aimpact/chat/shared/components",h]]),brequire("@beyond-js/kernel/styles").styles.register("@aimpact/chat@1.0.1/sidebar/ui"),(b=new Map).set("./activity-bar/index",{hash:3403001104,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const[e,t]=i.default.useState(Array.from(c.SidebarManager.items.values())),[a,n]=i.default.useState(Array.from(c.SidebarManager.bottomItems.values()));return(0,s.useBinder)([c.SidebarManager],()=>{t(Array.from(c.SidebarManager.items.values())),n(Array.from(c.SidebarManager.bottomItems.values()))}),i.default.createElement(i.default.Fragment,null,i.default.createElement("aside",{className:"aside-bar"},i.default.createElement("section",{className:"aside__top"},i.default.createElement(o.AppLogo,null)),i.default.createElement(r.ListItems,{items:e,className:"aside__nav"}),i.default.createElement(r.ListItems,{items:a,className:"aside__footer"})))};var i=e("react"),r=e("./list"),o=e("../icons/app-logo"),c=e("@aimpact/chat/sidebar/manager"),s=e("@beyond-js/react-18-widgets/hooks")}}),b.set("./activity-bar/item/control",{hash:436944484,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ItemControl=function({item:e,isActive:t}){return t="nav__item circle md "+(t?" nav__item--active":""),e.control?a.default.createElement(e.control,{icon:e.icon,lassName:t}):(e=i.ICONS.hasOwnProperty(e.icon)?i.ICONS[e.icon]:e.icon,a.default.createElement(n.IconButton,{icon:e,className:t}))};var a=e("react"),n=e("pragmate-ui/icons"),i=e("@aimpact/chat/shared/icons")}}),b.set("./activity-bar/item/index",{hash:416632896,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ActivityBarLink=void 0;var p=e("react"),f=e("pragmate-ui/link"),g=e("pragmate-ui/tooltip"),h=e("@beyond-js/kernel/routing"),v=e("@beyond-js/react-18-widgets/hooks"),b=e("../../context"),y=e("./control");t.ActivityBarLink=({item:a})=>{const{name:e,href:t,Explorer:n,action:i,link:r,id:o}=a;var c=!n&&!i;const[s,l]=p.default.useState(h.routing.uri.pathname.includes(t)),u=(0,b.useSidebarContext)().toggleActionMenu;(0,v.useBinder)([h.routing],()=>{var e=h.routing.uri.pathname.includes(t)||h.routing.uri.pathname.includes(o);l(e)});let d={className:""};a.attributes&&(d={...a.attributes}),c&&(d.href="/"+t);var c=a.title??e,m=!1===r?"span":f.Link;return p.default.createElement(g.Tooltip,{content:c,placement:"right",key:a.id},p.default.createElement(m,{...d,onClick:e=>{e.stopPropagation(),e.preventDefault();var t=a.onClick??a.action;if(t)return t(e);u(a)},className:"aside-item"},p.default.createElement(y.ItemControl,{isActive:s,item:a})))}}}),b.set("./activity-bar/list",{hash:1420341788,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ListItems=function({items:e=[],className:t}){return a.default.createElement("section",{className:t},e.map((e,t)=>a.default.createElement(n.ActivityBarLink,{item:e,key:t})))};var a=e("react"),n=e("./item")}}),b.set("./context",{hash:2122402811,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.useSidebarContext=t.SidebarContext=void 0;var a=e("react");const n=t.SidebarContext=a.default.createContext({});t.useSidebarContext=()=>a.default.useContext(n)}}),b.set("./explorer",{hash:2576305374,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ExplorerView=function(){var{open:e,active:t}=(0,i.useSidebarContext)(),{}=n.routing.uri;return t?.Explorer?(t=t.Explorer,a.default.createElement(a.default.Fragment,null,a.default.createElement("aside",{className:"explorer"+(e?" open":"")},a.default.createElement("div",{className:"sidebar-content"},a.default.createElement(t,null))))):null};var a=e("react"),n=e("@beyond-js/kernel/routing"),i=e("./context")}}),b.set("./icons/app-logo",{hash:4195591344,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AppLogo=function(){const[e,t]=o.default.useState(),[a,n]=o.default.useState({type:"icon",icon:l.ICONS.rvd});var i,r;return o.default.useEffect(()=>{u.extensions.load(["app-menu-icon"]).then(e=>{t(!0),e.length&&n(e[0])})},[]),e?(i="icon"===a.type?s.Icon:d.Image,r={},"img"===a.type?r.src=a.src:"icon"===a.type&&(r.icon=a.icon),o.default.createElement("div",{className:"aside-item"},o.default.createElement(c.Link,{href:"/"},o.default.createElement(i,{...r,className:"lg"})))):o.default.createElement("div",{className:"aside-item"},o.default.createElement(d.Image,{src:"#"}))};var o=e("react"),c=e("pragmate-ui/components"),s=e("pragmate-ui/icons"),l=e("@aimpact/chat/shared/icons"),u=e("@aimpact/chat/extensions"),d=e("pragmate-ui/image")}}),b.set("./icons/profile",{hash:2058794887,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ProfileIcon=void 0;var i=e("react"),r=e("pragmate-ui/icons"),o=e("@aimpact/chat-sdk/session");t.ProfileIcon=({onClick:e})=>{const[t,a]=i.default.useState(!1);var n;if(o.sessionWrapper.user)return n=o.sessionWrapper.user.getProperties(),i.default.createElement("div",{className:"aside-item",onClick:e},t?i.default.createElement(r.Icon,{className:"lg",icon:"user"}):i.default.createElement("img",{alt:"user image profile",src:n.photoURL,onError:()=>a(!0)}))}}}),b.set("./index",{hash:3904242059,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Sidebar=function(){const[t,a]=r.default.useState(!1),[n,i]=r.default.useState();return r.default.createElement(s.SidebarContext.Provider,{value:{open:t,toggleActionMenu:e=>{n&&n.id!==e.id||a(!t),i(e)},active:n}},r.default.createElement("div",{className:"nav-wrapper"},r.default.createElement(o.default,null),r.default.createElement(c.ExplorerView,null)))};var r=e("react"),o=e("./activity-bar"),c=e("./explorer"),s=e("./context")}}),b.set("./registry",{hash:4254811252,creator:function(e,t){var a=e("@aimpact/chat/sidebar/manager"),n=e("@beyond-js/kernel/routing"),i=e("@aimpact/chat-sdk/session"),e=e("@aimpact/chat/shared/components");a.SidebarManager.register([{control:e.ThemeSwitcher,title:"Theme",id:"themeSwitcher",link:!1},{icon:"exit",id:"logout",title:"Logout",link:!1,onClick:async e=>{e.stopPropagation(),await i.sessionWrapper.logout(),n.routing.pushState("/auth/login")}}],"bottom")}}),v.exports.descriptor=[{im:"./icons/app-logo",from:"AppLogo",name:"AppLogo"},{im:"./icons/profile",from:"ProfileIcon",name:"ProfileIcon"},{im:"./index",from:"Sidebar",name:"Sidebar"}],v.exports.process=function({require:e,prop:t,value:a}){!e&&"AppLogo"!==t||n("AppLogo",e?e("./icons/app-logo").AppLogo:a),!e&&"ProfileIcon"!==t||n("ProfileIcon",e?e("./icons/profile").ProfileIcon:a),!e&&"Sidebar"!==t||n("Sidebar",e?e("./index").Sidebar:a)},n("__beyond_pkg",v),n("hmr",new function(){this.on=(e,t)=>v.hmr.on(e,t),this.off=(e,t)=>v.hmr.off(e,t)}),v.initialise(b)}}});