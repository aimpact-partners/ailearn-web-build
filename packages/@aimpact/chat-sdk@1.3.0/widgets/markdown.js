System.register(["@beyond-js/kernel@0.1.9/bundle","@beyond-js/kernel@0.1.9/styles","react@18.2.0","marked-mangle@1.1.9","marked@5.1.2","marked-gfm-heading-id@3.2.0","katex@0.16.11","highlight.js@11.10.0","marked-highlight@2.1.4"],function(n,e){var r,a,t,d,i,o,u,s,l,g,k;return n("Markdown",void 0),{setters:[function(e){r=e},function(e){a=e},function(e){t=e},function(e){d=e},function(e){i=e},function(e){o=e},function(e){u=e},function(e){s=e},function(e){l=e}],execute:function(){k=r.Bundle,(g=new k({module:{vspecifier:"@aimpact/chat-sdk@1.3.0/widgets/markdown"},type:"code"},e.meta.url).package()).dependencies.update([["@beyond-js/kernel/styles",a],["react",t],["marked-mangle",d],["marked",i],["marked-gfm-heading-id",o],["katex",u],["highlight.js",s],["marked-highlight",l]]),brequire("@beyond-js/kernel/styles").styles.register("@aimpact/chat-sdk@1.3.0/widgets/markdown"),(k=new Map).set("./markdown",{hash:3629865041,creator:function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.Markdown=function(e){var r=(0,n.useMarked)(e.content??e.children).output,e={...e};return""===r?null:a.default.createElement("div",{...e,dangerouslySetInnerHTML:{__html:r}})};var a=e("react"),n=e("./use-marked")}}),k.set("./use-marked",{hash:1883193896,creator:function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.useMarked=function(e){let[r,a]=n.default.useState("");return n.default.useEffect(()=>{(async e=>{i.marked.setOptions({breaks:!1}),i.marked.use((0,s.markedHighlight)({async:!0,langPrefix:"language-",highlight(e,r){return r=u.default.getLanguage(r)?r:"plaintext",u.default.highlight(e,{language:r}).value}}));let n=0,t={},d="MATH_PLACEHOLDER_",r=(e=(e=e.replace(/\\\((.*?)\\\)/g,(e,r)=>{var a=d+n++;return t[a]=o.default.renderToString(r,{displayMode:!1}),a})).replace(/\\\[(.*?)\\\]/gs,(e,r)=>{var a=d+n++;return t[a]=o.default.renderToString(r,{displayMode:!0}),a}),await(0,i.marked)(e,{breaks:!1}));Object.keys(t).forEach(e=>{r=r.replace(new RegExp(e,"g"),t[e])}),a(r)})(e??"")},[e]),{ready:!!r,output:r}};var n=e("react"),r=e("marked-mangle"),i=e("marked"),a=e("marked-gfm-heading-id"),o=e("katex"),u=e("highlight.js"),s=e("marked-highlight");i.marked.use((0,r.mangle)()),i.marked.use((0,a.gfmHeadingId)({prefix:"my-prefix-"}))}}),g.exports.descriptor=[{im:"./markdown",from:"Markdown",name:"Markdown"}],g.exports.process=function({require:e,prop:r,value:a}){!e&&"Markdown"!==r||n("Markdown",e?e("./markdown").Markdown:a)},n("__beyond_pkg",g),n("hmr",new function(){this.on=(e,r)=>g.hmr.on(e,r),this.off=(e,r)=>g.hmr.off(e,r)}),g.initialise(k)}}});