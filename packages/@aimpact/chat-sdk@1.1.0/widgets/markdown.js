System.register(["@beyond-js/kernel@0.1.9/bundle","@beyond-js/kernel@0.1.9/styles","react@18.2.0","marked-mangle@1.1.9","marked@5.1.2","marked-gfm-heading-id@3.2.0","katex@0.16.11","highlight.js@11.10.0","marked-highlight@2.1.4"],function(t,e){"use strict";var r,n,a,d,i,o,u,s,l,c,g;return t("Markdown",void 0),{setters:[function(e){r=e},function(e){n=e},function(e){a=e},function(e){d=e},function(e){i=e},function(e){o=e},function(e){u=e},function(e){s=e},function(e){l=e}],execute:function(){g=r.Bundle,(c=new g({module:{vspecifier:"@aimpact/chat-sdk@1.1.0/widgets/markdown"},type:"code"},e.meta.url).package()).dependencies.update([["@beyond-js/kernel/styles",n],["react",a],["marked-mangle",d],["marked",i],["marked-gfm-heading-id",o],["katex",u],["highlight.js",s],["marked-highlight",l]]),brequire("@beyond-js/kernel/styles").styles.register("@aimpact/chat-sdk@1.1.0/widgets/markdown"),(g=new Map).set("./markdown",{hash:3629865041,creator:function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.Markdown=function(e){var r=(0,t.useMarked)(e.content??e.children).output,e={...e};return""===r?null:n.default.createElement("div",{...e,dangerouslySetInnerHTML:{__html:r}})};var n=e("react"),t=e("./use-marked")}}),g.set("./use-marked",{hash:1607615161,creator:function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.useMarked=function(e){const[r,n]=t.default.useState("");return t.default.useEffect(()=>{!async function(e){a.marked.setOptions({breaks:!1}),a.marked.use((0,o.markedHighlight)({async:!0,langPrefix:"language-",highlight(e,r){return r=i.default.getLanguage(r)?r:"plaintext",i.default.highlight(e,{language:r}).value}}));let r=await(0,a.marked)(e,{breaks:!0});r=r.replace(/\[([\s\S]+?)\]/g,(e,r)=>{try{return d.default.renderToString(r,{displayMode:!0})}catch(r){return console.error("Error rendering block KaTeX:",r),e}}).replace(/\\\((.+?)\\\)/g,(e,r)=>{try{return d.default.renderToString(r,{displayMode:!1})}catch(r){return console.error("Error rendering inline KaTeX:",r),e}}),n(r)}(e??"")},[e]),{ready:!!r,output:r}};var t=e("react"),r=e("marked-mangle"),a=e("marked"),n=e("marked-gfm-heading-id"),d=e("katex"),i=e("highlight.js"),o=e("marked-highlight");a.marked.use((0,r.mangle)()),a.marked.use((0,n.gfmHeadingId)({prefix:"my-prefix-"}))}}),c.exports.descriptor=[{im:"./markdown",from:"Markdown",name:"Markdown"}],c.exports.process=function({require:e,prop:r,value:n}){!e&&"Markdown"!==r||t("Markdown",e?e("./markdown").Markdown:n)},t("__beyond_pkg",c),t("hmr",new function(){this.on=(e,r)=>c.hmr.on(e,r),this.off=(e,r)=>c.hmr.off(e,r)}),c.initialise(g)}}});