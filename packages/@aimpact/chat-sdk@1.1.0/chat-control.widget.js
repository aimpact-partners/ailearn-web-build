System.register(["@beyond-js/widgets@1.1.0/render","@beyond-js/kernel@0.1.9/bundle","@beyond-js/kernel@0.1.9/styles","@beyond-js/react-18-widgets@1.1.2/base","@beyond-js/reactive@1.2.0/model","@aimpact/chat-sdk@1.1.0/voice","@aimpact/chat-sdk@1.1.0/wrapper","media-suite@0.0.4/recorder","@aimpact/chat-sdk@1.1.0/core","@aimpact/chat-sdk@1.1.0/session","@beyond-js/kernel@0.1.9/texts","react@18.2.0","pragmate-ui@1.0.0-beta.2/icons","@beyond-js/react-18-widgets@1.1.2/hooks","@aimpact/chat-sdk@1.1.0/messages","pragmate-ui@1.0.0-beta.2/components","pragmate-ui@1.0.0-beta.2/form","pragmate-ui@1.0.0-beta.2/modal","@aimpact/chat-sdk@1.1.0/components/icons"],function(n,e){var t,a,r,o,s,i,c,l,u,d,h,m,p,f,g,v,y,C,x,b,w;return n({Controller:void 0,AudioManager:void 0,Chat:void 0,AgentsChatContainer:void 0,ChatContext:void 0,useChatContext:void 0,ChatInput:void 0,PermissionsErrorModal:void 0,RecordingButton:void 0,PermissionsModal:void 0,AgentsChatPanel:void 0}),{setters:[function(e){t=e},function(e){a=e},function(e){r=e},function(e){o=e},function(e){s=e},function(e){i=e},function(e){c=e},function(e){l=e},function(e){u=e},function(e){d=e},function(e){h=e},function(e){m=e},function(e){p=e},function(e){f=e},function(e){g=e},function(e){v=e},function(e){y=e},function(e){C=e},function(e){x=e}],execute:function(){w=a.Bundle,(b=new w({module:{vspecifier:"@aimpact/chat-sdk@1.1.0/chat-control",multibundle:!0},type:"widget"},e.meta.url).package()).dependencies.update([["@beyond-js/widgets/render",t],["@beyond-js/kernel/styles",r],["@beyond-js/react-18-widgets/base",o],["@beyond-js/reactive/model",s],["@aimpact/chat-sdk/voice",i],["@aimpact/chat-sdk/wrapper",c],["media-suite/recorder",l],["@aimpact/chat-sdk/core",u],["@aimpact/chat-sdk/session",d],["@beyond-js/kernel/texts",h],["react",m],["pragmate-ui/icons",p],["@beyond-js/react-18-widgets/hooks",f],["@aimpact/chat-sdk/messages",g],["pragmate-ui/components",v],["pragmate-ui/form",y],["pragmate-ui/modal",C],["@aimpact/chat-sdk/components/icons",x]]),brequire("@beyond-js/widgets/render").widgets.register([{name:"aimpact-chat-control",attrs:["id","container","disabled","playable","icon"],vspecifier:"@aimpact/chat-sdk@1.1.0/chat-control.widget"}]),brequire("@beyond-js/kernel/styles").styles.register("@aimpact/chat-sdk@1.1.0/chat-control.widget"),(w=new Map).set("./controller",{hash:2095395250,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Controller=void 0;var a=e("@beyond-js/react-18-widgets/base"),n=e("./views/widget"),r=e("./store");class o extends a.ReactWidgetController{#store;createStore(){return this.#store=new r.StoreManager(this.attributes?.get("id")),this.#store}get Widget(){return n.View}unmount(){super.unmount(),this.#store?.unmount()}}t.Controller=o}}),w.set("./interfaces/messages",{hash:775952468,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})}}),w.set("./store/audio",{hash:2668975825,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AudioManager=void 0;var a=e("@beyond-js/reactive/model"),n=e("@aimpact/chat-sdk/voice"),r=e("@aimpact/chat-sdk/wrapper"),o=e("media-suite/recorder");class s extends a.ReactiveModel{#parent;#recorder;get recorder(){return this.#recorder}#players={web:n.Voice,lab:n.VoiceLab};#player="web";get player(){return this.#currentPlayer}#currentPlayer;constructor(e){super({}),this.#recorder=new o.Recorder,this.#parent=e,this.reactiveProps(["autoplay"]),this.#currentPlayer=new this.#players.web({language:r.AppWrapper.language,rate:r.AppWrapper.audioSpeed}),r.AppWrapper.on("app.settings.change",this.listenAppChanges)}listenAppChanges=()=>{var{rate:e,language:t}=r.AppWrapper;this.#currentPlayer.set({rate:e,language:t})};selectPlayer(e){if(!this.#players[e])throw new Error(`Player ${e} not found`);this.#player=e,this.trigger("change")}}t.AudioManager=s}}),w.set("./store/index",{hash:1369469135,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.StoreManager=void 0;var a=e("@beyond-js/reactive/model"),n=e("@aimpact/chat-sdk/core"),r=e("@aimpact/chat-sdk/wrapper"),o=e("./audio"),s=e("@aimpact/chat-sdk/session"),i=e("@beyond-js/kernel/texts"),c=e("beyond_context");class l extends a.ReactiveModel{#EXTENSIONS=["chat-intro"];#messages;get messages(){return this.#messages?.items}#name;get name(){return this.#name}#category;get category(){return this.#category}#chat;get chat(){return this.#chat}#chats=r.AppWrapper.chats;get chats(){return this.#chats.items??[]}#audio=new o.AudioManager(this);get audioManager(){return this.#audio}#selectedModel="GPT 4";get selectedModel(){return this.#selectedModel}set selectedModel(e){this.#selectedModel=e}#notFound;get notFound(){return this.#notFound}set notFound(e){this.#notFound=e}#currentMessage;get currentMessage(){return this.#currentMessage}set currentMessage(e){e?.id!==this.#currentMessage?.id&&(this.#currentMessage=e)}#disabled;get disabled(){return this.#disabled}set disabled(e){this.#disabled!==e&&(this.#disabled=e,this.triggerEvent("change"))}#extensions=new Map;get extensions(){return this.#extensions}#id;#texts=new i.CurrentTexts(c.module.specifier);get textsModel(){return this.#texts}get texts(){return this.#texts?.value}get ready(){return super.ready&&this.#texts.ready}constructor(e){super(),this.#texts.on("change",this.triggerEvent),this.#id=e,this.reactiveProps(["waitingResponse","autoplay"]),this.autoplay=!0,this.load(this.#id)}load=async e=>{var t;e?s.sessionWrapper.user?.logged?(this.fetching=!0,t=new n.Chat({id:e}),this.#chat=t,this.#messages=t.messages,await t.loadAll({id:e}),globalThis.chat=t,(r.AppWrapper.currentChat=t).found?(e=t.language?.default??r.AppWrapper.language,this.audioManager.player.set({language:e}),this.fetching=!1,super.ready=!0,this.notFound=!1,this.trigger("change")):(this.fetching=!1,super.ready=!0,this.notFound=!0)):s.sessionWrapper.on("login",this.load):(super.ready=!0,this.notFound=!0)};async sendMessage(e){try{if(performance.mark("start"),this.#currentMessage=void 0,"string"!=typeof e||![void 0,"",null].includes(e))return this.fetching=!0,this.#chat.sendMessage(e)}catch(e){console.error(e)}}unmount(){this.#audio.player?.stop()}clean(){this.fetching=!1,super.ready=!1}}t.StoreManager=l}}),w.set("./store/types",{hash:1416087461,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})}}),w.set("./views/chat/back-arrow",{hash:3094757389,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.BackArrow=function({store:e,separator:t}){let a=i.default.useRef(null),n=(0,u.useChatContext)().attributes,r=i.default.useRef(null),o=((0,l.useBinder)([e],()=>globalThis.setTimeout(()=>{var e=r.current?.closest(".chat-control__container")?.querySelector(".chat__content");e&&(e.scrollHeight-e.clientHeight-e.scrollTop<=100?(r.current.classList.remove("show"),o()):r.current.classList.add("show"))},100),"new.message"),()=>{t.current?.scrollIntoView({block:"end",behavior:"smooth"})}),s=(i.default.useEffect(()=>{let e=r.current.closest(".chat-control__container").querySelector(".chat__content"),t=()=>{e&&(e.scrollHeight-e.clientHeight-e.scrollTop<=100?r.current.classList.remove("show"):r.current.classList.add("show"))};return e.addEventListener("scroll",t),()=>{e?.removeEventListener("scroll",t)}},[]),"scroll-bottom show circle");return n.has("container")&&(s+="scroll-bottom--"+n.get("container")),e="container__icon "+(n.has("container")?" container--"+n.get("container"):""),i.default.createElement("div",{className:e,ref:r},i.default.createElement(c.IconButton,{ref:a,icon:"backArrow",variant:"tertiary",className:s,onClick:o}))};var i=e("react"),c=e("pragmate-ui/icons"),l=e("@beyond-js/react-18-widgets/hooks"),u=e("../context")}}),w.set("./views/chat/content",{hash:2798463590,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Content=function({separator:e}){let{store:t,texts:a,systemIcon:n}=(0,h.useChatContext)(),r=t.messages,[,o]=l.default.useState(r?.length??[].length),[s,i,c]=(0,u.useExtension)("chat-intro");return(0,m.useBinder)([t.chat],()=>{console.log("me entero del nuevo mensaje",t.messages[t.messages.length-1].getProperties()),o(t.messages.length)},"new.message"),l.default.createElement("div",{className:"chat__content"},l.default.createElement(p.ExtensionRenderer,{component:c,reference:s}),i&&l.default.createElement(l.default.Fragment,null,l.default.createElement(d.Messages,{chat:t.chat,player:t.audioManager.player,current:t.currentMessage,store:t,systemIcon:n,messages:t?.messages??[],texts:a}),l.default.createElement("div",{ref:e,className:"separator"})))};var l=e("react"),u=e("./use-extension"),d=e("@aimpact/chat-sdk/messages"),h=e("../context"),m=e("@beyond-js/react-18-widgets/hooks"),p=e("./extension-renderer")}}),w.set("./views/chat/extension-renderer",{hash:1172650975,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionRenderer=function({component:e,reference:t}){var a=(0,r.useChatContext)().store.chat;return e?n.default.createElement(n.default.Fragment,null,n.default.createElement(e,{ref:t,metadata:JSON.stringify(a.metadata)})):null};var n=e("react"),r=e("../context")}}),w.set("./views/chat/globals",{hash:634193436,creator:function(e,t){}}),w.set("./views/chat/index",{hash:3522809035,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Chat=function(){var{}=(0,n.useChatContext)(),[e]=a.default.useState(!1),t=a.default.useRef(null);return a.default.createElement("div",{className:"chat-control__container"+(e?" reader__container":"")},a.default.createElement(r.Content,{separator:t}))};var a=e("react"),n=e("../context"),r=e("./content")}}),w.set("./views/chat/skeleton",{hash:286511885,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ChatSkeleton=function(){var{}=(0,n.useChatContext)();return a.default.createElement("div",{className:"chat-container"},a.default.createElement(r.Spinner,{active:!0}))};var a=e("react"),n=e("../context"),r=e("pragmate-ui/components")}}),w.set("./views/chat/use-extension",{hash:2889823330,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.useExtension=function(e){let[t,a]=s.default.useState(!1),n=s.default.useRef(null),r=(0,i.useChatContext)().store.extensions,o=r.get(e)?.control;return s.default.useEffect(()=>{let e=e=>a(!0);if(n?.current)return n.current.addEventListener("ready",e),()=>n.current?.removeEventListener("ready",e)},[n?.current]),[n,t||!o,o]};var s=e("react"),i=e("../context")}}),w.set("./views/container",{hash:3594033902,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AgentsChatContainer=function({children:e,icon:t,autoplay:a,player:n,...r}){let[o,s]=d.default.useState("top"),i=(0,h.useManager)(r.id).store,c=i||{},l=c.messages,u={setScrollPosition:e=>{e||console.trace("setScrollPosition called with no value"),s(e)},scrollPosition:o,store:i,ready:i.ready,texts:i.texts,autoplay:a,systemIcon:t,messages:l,player:n,attributes:r.attributes};return d.default.createElement(m.ChatContext.Provider,{value:u},e)};var d=e("react"),h=e("./use-manager"),m=e("./context")}}),w.set("./views/context",{hash:2290463307,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.useChatContext=t.ChatContext=void 0;var a=e("react");let n=t.ChatContext=a.default.createContext({});t.useChatContext=()=>a.default.useContext(n)}}),w.set("./views/input/action-button",{hash:1153710111,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.InputActionButton=function({text:e,onSend:t,buttonIsDisabled:a}){var n=(0,i.useInputContext)().store;return r.default.createElement("span",{className:"input__icon  input__icon--right"},e.length?r.default.createElement(s.Button,{icon:"send-arrow",onClick:t,disabled:a}):r.default.createElement(o.RecordingButton,{store:n,disabled:a}))};var r=e("react"),o=e("./recording"),s=e("pragmate-ui/components"),i=e("./context")}}),w.set("./views/input/context",{hash:765883465,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.useInputContext=t.InputContext=void 0;var a=e("react");let n=t.InputContext=a.default.createContext(null);t.useInputContext=()=>a.default.useContext(n)}}),w.set("./views/input/index",{hash:3599694351,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ChatInput=void 0;var g=e("react"),v=e("pragmate-ui/form"),y=e("@beyond-js/react-18-widgets/hooks"),C=e("./context"),x=e("./text-input"),b=e("./action-button");t.ChatInput=({store:t,isWaiting:e=!1})=>{let[a,n]=g.default.useState(!1),[r,o]=g.default.useState(!1),[s,i]=g.default.useState(!1),[c,l]=g.default.useState(""),u=t.audioManager.recorder;(0,y.useBinder)([t],()=>i(t.waitingResponse));var d={disabled:!1},h=async()=>{try{l(""),o(!0),await t.sendMessage(c),o(!1)}catch(e){console.error("error",e)}},m=c.length?h:async e=>{o(!0),e.preventDefault(),e.stopPropagation(),e=await u.stop(),t.sendMessage(e),n(!a),o(!1)};!["",void 0,null].includes(c.replaceAll("\n",""))&&c.trim().length||(d.disabled=!0);let p="chat-input-container "+((e=r||a||s||e)?"is-fetching":"");t.disabled&&(p+="is-disabled");var f={store:t,onSubmit:m,recorder:u,fetching:r,setRecording:n,recording:a,disabled:t.disabled},d=d.disabled||t.waitingResponse||a;return g.default.createElement(C.InputContext.Provider,{value:f},g.default.createElement(v.Form,{onSubmit:m,className:"chat-input-form"},g.default.createElement("div",{className:p},g.default.createElement(x.TextInput,{text:c,disabled:t.disabled,setFetching:o,fetching:e,setText:l,handleSend:h}),g.default.createElement(b.InputActionButton,{text:c,onSend:h,buttonIsDisabled:d}))))}}}),w.set("./views/input/player",{hash:964401253,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Player=void 0;var n=e("react"),r=e("pragmate-ui/icons"),o=e("./timer"),s=e("./context");t.Player=()=>{let{onSubmit:e,recorder:t,setRecording:a}=(0,s.useInputContext)();return n.default.createElement("div",{className:"recording-player__container"},n.default.createElement(r.IconButton,{className:"circle",icon:"delete",onClick:async e=>{e.preventDefault(),await t.stop(),a(!1)}}),n.default.createElement(o.Timer,{action:"start"}),n.default.createElement(r.IconButton,{icon:"send",className:"circle",variant:"primary",onClick:e}))}}}),w.set("./views/input/recording/error-modal",{hash:724562986,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.PermissionsErrorModal=void 0;var n=e("react"),r=e("pragmate-ui/icons"),o=e("pragmate-ui/modal"),s=e("../../context");t.PermissionsErrorModal=({show:e,onClose:t})=>{var a;return e?(e=(0,s.useChatContext)().texts,{title:e,description:a}=e.permissions.error,n.default.createElement(n.default.Fragment,null,n.default.createElement(o.AlertModal,{className:"modal--centered",open:!0,show:!0,onClose:t,centered:!0},n.default.createElement("div",{className:"permissions__modal-container"},n.default.createElement("div",{className:"title-intro__modal-container"},n.default.createElement("h3",null,e)),n.default.createElement(r.Icon,{className:"mic__modal-icon lg my-10",icon:"mic"}),n.default.createElement("p",{className:"description__modal-text"},a))))):null}}}),w.set("./views/input/recording/index",{hash:4268953105,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.RecordingButton=void 0;var h=e("react"),m=e("pragmate-ui/components"),p=e("../player"),f=e("../../context"),g=e("../context"),v=e("./modal"),y=e("./error-modal");t.RecordingButton=({store:{},disabled:e})=>{let{recorder:t,recording:a,setRecording:n}=(0,g.useInputContext)(),[r,o]=(0,h.useState)(!1),[s,i]=(0,h.useState)(!1),[c,l]=(0,h.useState)(!1),[u,d]=(0,h.useState)(globalThis?.localStorage.getItem("aimpact.recording.permission")),{}=(0,f.useChatContext)();return a?h.default.createElement(p.Player,null):h.default.createElement(h.default.Fragment,null,"11",h.default.createElement(m.Button,{icon:"mic",fetching:r,onClick:async e=>{try{e.preventDefault(),o(!0),u&&"true"===u?(async()=>{try{await t.record(),n(!a)}catch(e){l(!0)}})():i(!0)}catch(e){l(!0)}finally{o(!1)}},disabled:e||r}),h.default.createElement(v.PermissionsModal,{show:s,onClose:e=>{o(!1),i(!1)},onConfirm:()=>{t.hasPermissions().then(()=>{globalThis?.localStorage.setItem("aimpact.recording.permission","true"),d("true")}).catch(e=>{console.log("permisos no concedidos"),l(!0)})}}),h.default.createElement(y.PermissionsErrorModal,{show:c,onClose:()=>l(!1)}))}}}),w.set("./views/input/recording/modal",{hash:452957598,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.PermissionsModal=void 0;var o=e("react"),s=e("pragmate-ui/icons"),i=e("pragmate-ui/modal"),c=e("../../context");t.PermissionsModal=({show:e,onClose:t,onConfirm:a})=>{var n,r;return e?(n=(e=(0,c.useChatContext)().texts).permissions.title,r=e.permissions.description,o.default.createElement(o.default.Fragment,null,o.default.createElement(i.AlertModal,{show:!0,onClose:t,centered:!0,onConfirm:a},o.default.createElement("div",{className:"permissions__modal-container"},o.default.createElement("div",{className:"title-intro__modal-container"},o.default.createElement("span",{className:"intro__modal-text p2"},e.permissions.intro),o.default.createElement("h3",null,n)),o.default.createElement(s.Icon,{className:"mic__modal-icon lg my-10",icon:"mic"}),o.default.createElement("p",{className:"description__modal-text"},r))))):null}}}),w.set("./views/input/text-input",{hash:72459104,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.TextInput=function({setFetching:e,setText:a,handleSend:n,fetching:t,text:r,disabled:o}){let s=(0,d.useInputContext)().store,i=l.default.useRef(null),c=(l.default.useEffect(()=>{var e=i.current;e.style.height="auto",e.style.height=1==r.length?"auto":e.scrollHeight+"px",["undefined",void 0].includes(r.replaceAll("\n",""))},[r]),(0,u.useBinder)([s],()=>{globalThis.setTimeout(()=>i.current.focus(),300),e(!1)},"chat.available"),{disabled:t||o});return l.default.createElement("div",{className:"input__wrapper"},l.default.createElement("div",null,l.default.createElement(h.AppIconButton,{className:"chat-input__icon",icon:"attachFile"})),l.default.createElement("textarea",{...c,rows:1,value:r,onChange:e=>{e=e.target.value,["undefined",void 0].includes(e.replaceAll("\n"))||a(e)},onKeyDown:e=>{var t;"Enter"!==e.key||(t=e.target.value.replaceAll("\n"),["",void 0,null].includes(t))||(e.shiftKey?a(e=>e+"\n"):n())},autoFocus:!0,className:"input__textarea",ref:i}))};var l=e("react"),u=e("@beyond-js/react-18-widgets/hooks"),d=e("./context"),h=e("@aimpact/chat-sdk/components/icons")}}),w.set("./views/input/timer/index",{hash:1478628646,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Timer=function({action:e}){var t=["restart","start"].includes(e),e="restart"===e,[,t,e,,]=(0,n.useTimer)(t,e),e=e.toString().padStart(2,"0"),t=t.toString().padStart(2,"0");return a.default.createElement("div",{className:"timer-message__container"},a.default.createElement("span",null,""+t,":"),a.default.createElement("span",null,""+e))};var a=e("react"),n=e("./use-timer")}}),w.set("./views/input/timer/use-timer",{hash:1623060353,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.useTimer=function(t,e){let[a,n]=c(0),r=(l(()=>{let e;return t&&(e=setInterval(()=>{n(e=>e+1)},10)),()=>{clearInterval(e)}},[t]),l(()=>{e&&n(0)},[e]),a%100),o=Math.floor(a/100%60),s=Math.floor(a/6e3%60),i=Math.floor(a/36e4);return[i,s,o,r]};let a=e("react"),{useState:c,useEffect:l}=a.default}}),w.set("./views/not-found",{hash:4269748456,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ChatNotFound=function(){return a.default.createElement("div",null,"404")};var a=e("react")}}),w.set("./views/panel",{hash:2366537853,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AgentsChatPanel=function(){var{ready:e,store:t}=(0,r.useChatContext)();return t.notFound&&e?a.default.createElement(s.ChatNotFound,null):e?a.default.createElement(n.Chat,null):a.default.createElement(o.ChatSkeleton,null)};var a=e("react"),n=e("./chat"),r=e("./context"),o=e("./chat/skeleton"),s=e("./not-found")}}),w.set("./views/use-manager",{hash:3726613334,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.useManager=function(a){let[e,n]=s.default.useState(!1),[t,r]=s.default.useState({}),[,o]=s.default.useState({});return s.default.useEffect(()=>{let e=new i.StoreManager(a),t=()=>{o({...e.getProperties()}),n(e.ready)};return e.on("change",t),r(e),n(e.ready),()=>{e.off("change",t)}},[a]),{ready:e,store:t}};var s=e("react"),i=e("../store")}}),w.set("./views/widget/index",{hash:2799002234,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.View=function({store:e,...t}){let[,,]=m.default.useState(e.fetching),[a,n]=m.default.useState(e.ready),r=t.attributes.get("icon"),[o,s]=m.default.useState("top"),{autoplay:i,messages:c,audioManager:{player:l}}=e,u=(globalThis.store=e,(0,p.useBinder)([e],()=>{n(e.ready)}),{setScrollPosition:e=>{e||console.trace("setScrollPosition called with no value"),s(e)},scrollPosition:o,store:e,texts:e.texts,autoplay:i,systemIcon:r,messages:c,player:l,ready:e.ready,attributes:t.attributes}),d=e.notFound?y.ChatNotFound:f.Chat,h=a?d:v.ChatSkeleton;return m.default.createElement(g.ChatContext.Provider,{value:u},m.default.createElement(h,null))};var m=e("react"),p=e("@beyond-js/react-18-widgets/hooks"),f=e("../chat"),g=e("../context"),v=e("../chat/skeleton"),y=e("../not-found")}}),b.exports.descriptor=[{im:"./controller",from:"Controller",name:"Controller"},{im:"./store/audio",from:"AudioManager",name:"AudioManager"},{im:"./views/chat/index",from:"Chat",name:"Chat"},{im:"./views/container",from:"AgentsChatContainer",name:"AgentsChatContainer"},{im:"./views/context",from:"ChatContext",name:"ChatContext"},{im:"./views/context",from:"useChatContext",name:"useChatContext"},{im:"./views/input/index",from:"ChatInput",name:"ChatInput"},{im:"./views/input/recording/error-modal",from:"PermissionsErrorModal",name:"PermissionsErrorModal"},{im:"./views/input/recording/index",from:"RecordingButton",name:"RecordingButton"},{im:"./views/input/recording/modal",from:"PermissionsModal",name:"PermissionsModal"},{im:"./views/panel",from:"AgentsChatPanel",name:"AgentsChatPanel"}],b.exports.process=function({require:e,prop:t,value:a}){!e&&"Controller"!==t||n("Controller",e?e("./controller").Controller:a),!e&&"AudioManager"!==t||n("AudioManager",e?e("./store/audio").AudioManager:a),!e&&"Chat"!==t||n("Chat",e?e("./views/chat/index").Chat:a),!e&&"AgentsChatContainer"!==t||n("AgentsChatContainer",e?e("./views/container").AgentsChatContainer:a),!e&&"ChatContext"!==t||n("ChatContext",e?e("./views/context").ChatContext:a),!e&&"useChatContext"!==t||n("useChatContext",e?e("./views/context").useChatContext:a),!e&&"ChatInput"!==t||n("ChatInput",e?e("./views/input/index").ChatInput:a),!e&&"PermissionsErrorModal"!==t||n("PermissionsErrorModal",e?e("./views/input/recording/error-modal").PermissionsErrorModal:a),!e&&"RecordingButton"!==t||n("RecordingButton",e?e("./views/input/recording/index").RecordingButton:a),!e&&"PermissionsModal"!==t||n("PermissionsModal",e?e("./views/input/recording/modal").PermissionsModal:a),!e&&"AgentsChatPanel"!==t||n("AgentsChatPanel",e?e("./views/panel").AgentsChatPanel:a)},n("__beyond_pkg",b),n("hmr",new function(){this.on=(e,t)=>b.hmr.on(e,t),this.off=(e,t)=>b.hmr.off(e,t)}),b.initialise(w)}}});