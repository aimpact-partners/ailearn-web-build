System.register(["@beyond-js/kernel@0.1.9/bundle","react@18.2.0","pragmate-ui@0.1.1/icons","@beyond-js/kernel@0.1.9/styles"],function(a,e){"use strict";var t,r,o,n,s,i;return a({useLoader:void 0,Image:void 0}),{setters:[function(e){t=e},function(e){r=e},function(e){o=e},function(e){n=e}],execute:function(){i=t.Bundle,(s=new i({module:{vspecifier:"pragmate-ui@0.1.1/image"},type:"code",name:"image"},e.meta.url).package()).dependencies.update([["react",r],["pragmate-ui/icons",o],["@beyond-js/kernel/styles",n]]),brequire("@beyond-js/kernel/styles").styles.register("pragmate-ui@0.1.1/image"),(i=new Map).set("./context",{hash:818759056,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.useImageContext=t.ImageContext=void 0;var r=e("react");const a=t.ImageContext=r.createContext({});t.useImageContext=()=>r.useContext(a)}}),i.set("./error/index",{hash:1634346444,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Error=function(){const{src:e,onError:t}=(0,a.useImageContext)();return r.default.createElement("div",{"data-src":e,className:"content-error"},t&&r.default.createElement(o.IconButton,{onClick:e=>{e.stopPropagation(),t&&"function"==typeof t&&t(e)},icon:"refresh"}))};var r=e("react"),a=e("../context"),o=e("pragmate-ui/icons")}}),i.set("./hooks/use-loader",{hash:3641908203,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.useLoader=function(t){const[e,o]=r.default.useState("loading");return r.default.useEffect(()=>{if(t){const a=new globalThis.Image,e=e=>{const t={load:"ready",error:"error"};const r={add:"addEventListener",remove:"removeEventListener"}[e];["load","error"].forEach(e=>a[r](e,()=>o(t[e])))};return e("add"),a.src=t,()=>{e("remove")}}o("error")},[t]),{status:e}};var r=e("react")}}),i.set("./hooks/use-loading",{hash:1800321396,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.useLoading=function(o){const[,n]=(0,r.useState)(),[s,i]=(0,r.useState)({size:"200x200",loaded:!1});return(0,r.useEffect)(()=>{var e,t,r,a=o.src;return s.url!==a&&(e=o.size??s.size,e=e,t=a=a,(r=new globalThis.Image).onload=()=>i({...s,loaded:!0,error:!1}),r.onerror=()=>{i({...s,error:!0,loaded:!1})},r.src=t,n(r),i({...s,url:a,size:e,src:t,loaded:!0})),()=>n({...s,onload:void 0,onerror:void 0})},[o.src]),[s,i]};var r=e("react")}}),i.set("./img",{hash:189586207,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Img=function(){var{src:e,loading:t,alt:r,status:a}=(0,n.useImageContext)();return"loading"===a?o.default.createElement("div",{className:"pui-image-loading"},t):"error"===a?o.default.createElement("div",{className:"pui-image-error"},r):o.default.createElement("img",{src:e})};var o=e("react"),n=e("./context")}}),i.set("./index",{hash:1445573776,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Image=function(e={}){var{className:t,onClick:r,children:a,sizeLoading:o}=e,[n,s]=(0,x.useLoading)(e),{error:i,loaded:u,htmlLoaded:c}=n,d=(0,y.useLoader)(e.src)["status"];let l="pui-image "+(t?" "+t:"");const m={...e,className:l,onClick:r};u||c||(l+=" pui-image-preload");i&&(l+=" pui-image-error");["src","alt","onError","children","size","loading","error","sources","sizeLoading"].forEach(e=>delete m[e]);t={...e,state:n,src:e.src,status:d,setState:s},r={};(!u||!c||i)&&o&&"object"==typeof o&&o.height&&o.width&&(r.height=o.height,r.width=o.width);n=i?h.Error:p.Img;return f.default.createElement(g.ImageContext.Provider,{value:t},f.default.createElement("picture",{...m,style:r,"data-src":e.src},f.default.createElement(v.Sources,null),f.default.createElement(n,null),a))};var f=e("react"),g=e("./context"),h=e("./error"),p=e("./img"),v=e("./sources"),x=e("./hooks/use-loading"),y=e("./hooks/use-loader")}}),i.set("./interfaces/index",{hash:3751520118,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})}}),i.set("./sources/index",{hash:1995365142,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Sources=function(){var e=(0,a.useImageContext)()["sources"];if(!e||!Array.isArray(e)||!e.length)return null;e=e.map(e=>r.default.createElement(o.Item,{key:e.srcSet,...e}));return r.default.createElement(r.default.Fragment,null,e)};var r=e("react"),a=e("../context"),o=e("./item")}}),i.set("./sources/item",{hash:377065182,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Item=function(e){if(!e.srcSet)return null;let t="";var{maxWidth:r,minWidth:a}=e;!r&&a&&(t=`(min-width: ${a}px)`);r&&!a&&(t=`(max-width: ${r}px)`);r&&a&&(t=`(min-width: ${a}px) and (max-width: ${r}px)`);const o={...e};return["maxWidth","minWidth"].forEach(e=>delete o[e]),n.default.createElement("source",{media:t,...o})};var n=e("react")}}),s.exports.descriptor=[{im:"./hooks/use-loader",from:"useLoader",name:"useLoader"},{im:"./index",from:"Image",name:"Image"}],s.exports.process=function({require:e,prop:t,value:r}){!e&&"useLoader"!==t||a("useLoader",e?e("./hooks/use-loader").useLoader:r),!e&&"Image"!==t||a("Image",e?e("./index").Image:r)},a("__beyond_pkg",s),a("hmr",new function(){this.on=(e,t)=>s.hmr.on(e,t),this.off=(e,t)=>s.hmr.off(e,t)}),s.initialise(i)}}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi90cy9jb250ZXh0LnRzIiwiL3RzL2Vycm9yL2luZGV4LnRzeCIsIi90cy9ob29rcy91c2UtbG9hZGVyLnRzeCIsIi90cy9ob29rcy91c2UtbG9hZGluZy50cyIsIi90cy9pbWcudHN4IiwiL3RzL2luZGV4LnRzeCIsIi9pbmRleC50cyIsIi90cy9zb3VyY2VzL2luZGV4LnRzeCIsIi90cy9zb3VyY2VzL2l0ZW0udHN4Il0sIm5hbWVzIjpbIlJlYWN0IiwicmVxdWlyZSIsIkltYWdlQ29udGV4dCIsImV4cG9ydHMiLCJjcmVhdGVDb250ZXh0IiwidXNlSW1hZ2VDb250ZXh0IiwidXNlQ29udGV4dCIsInNyYyIsIm9uRXJyb3IiLCJfY29udGV4dCIsIl9yZWFjdCIsImRlZmF1bHQiLCJjcmVhdGVFbGVtZW50IiwiZGF0YS1zcmMiLCJjbGFzc05hbWUiLCJfaWNvbnMiLCJJY29uQnV0dG9uIiwib25DbGljayIsImV2ZW50Iiwic3RvcFByb3BhZ2F0aW9uIiwiaWNvbiIsInN0YXR1cyIsInNldFN0YXR1cyIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwiaW1nIiwiZ2xvYmFsVGhpcyIsIkltYWdlIiwibWFuYWdlciIsInN0YXRlcyIsImxvYWQiLCJlcnJvciIsIm1ldGhvZCIsImFkZCIsInJlbW92ZSIsImZvckVhY2giLCJwcm9wcyIsInNldEltYWdlIiwic3RhdGUiLCJzZXRTdGF0ZSIsInNpemUiLCJsb2FkZWQiLCJmaW5hbFNyYyIsIm5ld0ltYWdlIiwiY3VycmVudFNyYyIsInVybCIsIm9ubG9hZCIsIm9uZXJyb3IiLCJ1bmRlZmluZWQiLCJsb2FkaW5nIiwiYWx0IiwiY2hpbGRyZW4iLCJzaXplTG9hZGluZyIsIl91c2VMb2FkaW5nIiwidXNlTG9hZGluZyIsImh0bWxMb2FkZWQiLCJfdXNlTG9hZGVyIiwidXNlTG9hZGVyIiwibGV0IiwiY2xzIiwicHJvcGVydGllcyIsInByb3AiLCJ2YWx1ZSIsInN0eWxlcyIsImhlaWdodCIsIndpZHRoIiwiQ29udGVudCIsIl9lcnJvciIsIkVycm9yIiwiX2ltZyIsIkltZyIsIlByb3ZpZGVyIiwic3R5bGUiLCJfc291cmNlcyIsIlNvdXJjZXMiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsInNvdXJjZXMiLCJBcnJheSIsImlzQXJyYXkiLCJsZW5ndGgiLCJvdXRwdXQiLCJtYXAiLCJpdGVtIiwiX2l0ZW0iLCJJdGVtIiwia2V5Iiwic3JjU2V0IiwiRnJhZ21lbnQiLCJtZWRpYSIsIm1heFdpZHRoIiwibWluV2lkdGgiXSwibWFwcGluZ3MiOiI2dUJBQUEsSUFBQUEsRUFBQUMsRUFBQSxPQUFBLEVBR08sTUFBTUMsRUFBWUMsRUFBQUQsYUFBNEJGLEVBQU1JLGNBQWMsRUFBYyxFQUNURCxFQUFBRSxnQkFBL0NBLElBQWdCTCxFQUFNTSxXQUFXSixDQUFZLEMsMEhDQXRFLFdBQ0YsS0FBTSxDQUFFSyxJQUFBQSxFQUFLQyxRQUFBQSxDQUFPLEdBQUssRUFBQUMsRUFBQUosaUJBQWUsRUFLeEMsT0FDSUssRUFBQUMsUUFBQUMsY0FBQSxNQUFBLENBQUFDLFdBQWVOLEVBQUtPLFVBQVUsZUFBZSxFQUN4Q04sR0FBV0UsRUFBQUMsUUFBQUMsY0FBQ0csRUFBQUMsV0FBVSxDQUFDQyxRQU5WQyxJQUNsQkEsRUFBTUMsZ0JBQWUsRUFDakJYLEdBQThCLFlBQW5CLE9BQU9BLEdBQXdCQSxFQUFRVSxDQUFLLENBQy9ELEVBR3VERSxLQUFLLFNBQVMsQ0FBQSxDQUFHLENBRzVFLEVBZkEsSUFBQVYsRUFBQVQsRUFBQSxPQUFBLEVBQ0FRLEVBQUFSLEVBQUEsWUFBQSxFQUNBYyxFQUFBZCxFQUFBLG1CQUFBLEMsbUlDQWlCLFNBQW9CTSxHQUNwQyxLQUFNLENBQUNjLEVBQVFDLEdBQWFaLEVBQUFDLFFBQU1ZLFNBQXdDLFNBQVMsRUF5Qm5GLE9BdkJBYixFQUFBQyxRQUFNYSxVQUFVLEtBQ2YsR0FBS2pCLEVBQUwsQ0FLQSxNQUFNa0IsRUFBTSxJQUFJQyxXQUFXQyxNQUNyQkMsRUFBV1YsSUFFaEIsTUFBTVcsRUFBUyxDQUFF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