System.register(["@beyond-js/kernel@0.1.9/bundle","@beyond-js/kernel@0.1.9/styles","react@18.2.0","@beyond-js/react-18-widgets@1.1.2/hooks","@beyond-js/reactive@1.1.12/model","pragmate-ui@0.1.1/icons"],function(s,e){var t,r,a,o,n,i,c,u;return s({Toasts:void 0,ToastTypes:void 0,IToast:void 0,toast:void 0,Toast:void 0}),{setters:[function(e){t=e},function(e){r=e},function(e){a=e},function(e){o=e},function(e){n=e},function(e){i=e}],execute:function(){u=t.Bundle,(c=new u({module:{vspecifier:"pragmate-ui@0.1.1/toast"},type:"code"},e.meta.url).package()).dependencies.update([["@beyond-js/kernel/styles",r],["react",a],["@beyond-js/react-18-widgets/hooks",o],["@beyond-js/reactive/model",n],["pragmate-ui/icons",i]]),brequire("@beyond-js/kernel/styles").styles.register("pragmate-ui@0.1.1/toast"),(u=new Map).set("./index",{hash:182626329,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Toasts=function({position:e={bottom:"1rem",right:"1rem"},className:t,...r}){let[s,a]=n.default.useState([]),o=((0,i.useBinder)([c.toast],()=>a(c.toast.current),"current.toast.changed"),s.map(e=>n.default.createElement(u.Toast,{key:e.id,...e})));return n.default.createElement("div",{style:e,className:"pui-toast__container",...r},o)};var n=e("react"),i=e("@beyond-js/react-18-widgets/hooks"),c=e("./model"),u=e("./toast")}}),u.set("./model",{hash:1270696975,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.toast=void 0,e=e("@beyond-js/reactive/model");class r extends e.ReactiveModel{#current;get current(){return this.#current}set current(e){this.#current=e,this.triggerEvent("current.toast.changed")}constructor(){super(),this.#current=[]}#generateUniqueId(){return crypto.getRandomValues(new Uint8Array(16)).toString()}#add(e,t,r){return t={id:this.#generateUniqueId(),message:t,type:e,duration:r},this.#current=[...this.#current,t],this.triggerEvent("current.toast.changed"),t.id}remove(t){this.#current=this.#current.filter(e=>e.id!==t),this.triggerEvent("current.toast.changed")}success(e,t){return this.#add("success",e,t)}error(e,t){return this.#add("error",e,t)}warning(e,t){return this.#add("warning",e,t)}info(e,t){return this.#add("info",e,t)}loading(e,t){return this.#add("loading",e,t)}}t.toast=new r}}),u.set("./toast",{hash:2244319811,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Toast=function({type:e,message:t,duration:r,id:s}){let a=o.default.useRef(null);return o.default.useEffect(()=>(a.current&&a.current.classList.add("enter"),()=>{a.current&&a.current.classList.remove("enter")}),[a.current]),o.default.useEffect(()=>{r=r??c,setTimeout(()=>{a.current.classList.remove("enter"),a.current.classList.add("exit")},r);let e=setTimeout(()=>{n.toast.current=n.toast.current.filter(e=>e.id!==s)},r+u);return()=>clearTimeout(e)},[r,s]),o.default.createElement("article",{ref:a,className:"toast "+e},o.default.createElement(i.Icon,{icon:{error:"triangle-exclamation",success:"tickCircle",info:"infoCircle",loading:"refreshCircle",warning:"warning"}[e],className:"icon"}),o.default.createElement("p",{className:"message"},t))};var o=e("react"),n=e("./model"),i=e("pragmate-ui/icons");let c=3e3,u=300}}),c.exports.descriptor=[{im:"./index",from:"Toasts",name:"Toasts"},{im:"./model",from:"ToastTypes",name:"ToastTypes"},{im:"./model",from:"IToast",name:"IToast"},{im:"./model",from:"toast",name:"toast"},{im:"./toast",from:"Toast",name:"Toast"}],c.exports.process=function({require:e,prop:t,value:r}){!e&&"Toasts"!==t||s("Toasts",e?e("./index").Toasts:r),!e&&"ToastTypes"!==t||s("ToastTypes",e?e("./model").ToastTypes:r),!e&&"IToast"!==t||s("IToast",e?e("./model").IToast:r),!e&&"toast"!==t||s("toast",e?e("./model").toast:r),!e&&"Toast"!==t||s("Toast",e?e("./toast").Toast:r)},s("__beyond_pkg",c),s("hmr",new function(){this.on=(e,t)=>c.hmr.on(e,t),this.off=(e,t)=>c.hmr.off(e,t)}),c.initialise(u)}}});