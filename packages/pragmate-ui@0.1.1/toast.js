System.register(["@beyond-js/kernel@0.1.9/bundle","@beyond-js/kernel@0.1.9/styles","react@18.2.0","@beyond-js/react-18-widgets@1.1.2/hooks","@beyond-js/reactive@1.1.12/model","pragmate-ui@0.1.1/icons"],function(r,e){"use strict";var t,s,o,a,n,i,c,u;return r({Toasts:void 0,ToastTypes:void 0,IToast:void 0,toast:void 0,Toast:void 0}),{setters:[function(e){t=e},function(e){s=e},function(e){o=e},function(e){a=e},function(e){n=e},function(e){i=e}],execute:function(){u=t.Bundle,(c=new u({module:{vspecifier:"pragmate-ui@0.1.1/toast"},type:"code"},e.meta.url).package()).dependencies.update([["@beyond-js/kernel/styles",s],["react",o],["@beyond-js/react-18-widgets/hooks",a],["@beyond-js/reactive/model",n],["pragmate-ui/icons",i]]),brequire("@beyond-js/kernel/styles").styles.register("pragmate-ui@0.1.1/toast"),(u=new Map).set("./index",{hash:182626329,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Toasts=function({position:e={bottom:"1rem",right:"1rem"},className:t,...s}){const[r,o]=n.default.useState([]),a=((0,i.useBinder)([c.toast],()=>o(c.toast.current),"current.toast.changed"),r.map(e=>n.default.createElement(u.Toast,{key:e.id,...e})));return n.default.createElement("div",{style:e,className:"pui-toast__container",...s},a)};var n=e("react"),i=e("@beyond-js/react-18-widgets/hooks"),c=e("./model"),u=e("./toast")}}),u.set("./model",{hash:1270696975,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.toast=void 0;class s extends e("@beyond-js/reactive/model").ReactiveModel{#current;get current(){return this.#current}set current(e){this.#current=e,this.triggerEvent("current.toast.changed")}constructor(){super(),this.#current=[]}#generateUniqueId(){return crypto.getRandomValues(new Uint8Array(16)).toString()}#add(e,t,s){return t={id:this.#generateUniqueId(),message:t,type:e,duration:s},this.#current=[...this.#current,t],this.triggerEvent("current.toast.changed"),t.id}remove(t){this.#current=this.#current.filter(e=>e.id!==t),this.triggerEvent("current.toast.changed")}success(e,t){return this.#add("success",e,t)}error(e,t){return this.#add("error",e,t)}warning(e,t){return this.#add("warning",e,t)}info(e,t){return this.#add("info",e,t)}loading(e,t){return this.#add("loading",e,t)}}t.toast=new s}}),u.set("./toast",{hash:2244319811,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Toast=function({type:e,message:t,duration:s,id:r}){const o=a.default.useRef(null);return a.default.useEffect(()=>(o.current&&o.current.classList.add("enter"),()=>{o.current&&o.current.classList.remove("enter")}),[o.current]),a.default.useEffect(()=>{s=s??c,setTimeout(()=>{o.current.classList.remove("enter"),o.current.classList.add("exit")},s);const e=setTimeout(()=>{n.toast.current=n.toast.current.filter(e=>e.id!==r)},s+u);return()=>clearTimeout(e)},[s,r]),a.default.createElement("article",{ref:o,className:"toast "+e},a.default.createElement(i.Icon,{icon:{error:"triangle-exclamation",success:"tickCircle",info:"infoCircle",loading:"refreshCircle",warning:"warning"}[e],className:"icon"}),a.default.createElement("p",{className:"message"},t))};var a=e("react"),n=e("./model"),i=e("pragmate-ui/icons");const c=3e3,u=300}}),c.exports.descriptor=[{im:"./index",from:"Toasts",name:"Toasts"},{im:"./model",from:"ToastTypes",name:"ToastTypes"},{im:"./model",from:"IToast",name:"IToast"},{im:"./model",from:"toast",name:"toast"},{im:"./toast",from:"Toast",name:"Toast"}],c.exports.process=function({require:e,prop:t,value:s}){!e&&"Toasts"!==t||r("Toasts",e?e("./index").Toasts:s),!e&&"ToastTypes"!==t||r("ToastTypes",e?e("./model").ToastTypes:s),!e&&"IToast"!==t||r("IToast",e?e("./model").IToast:s),!e&&"toast"!==t||r("toast",e?e("./model").toast:s),!e&&"Toast"!==t||r("Toast",e?e("./toast").Toast:s)},r("__beyond_pkg",c),r("hmr",new function(){this.on=(e,t)=>c.hmr.on(e,t),this.off=(e,t)=>c.hmr.off(e,t)}),c.initialise(u)}}});