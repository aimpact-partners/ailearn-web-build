System.register(["@beyond-js/kernel@0.1.9/bundle","react@18.2.0","pragmate-ui@1.0.0-beta.6/components","pragmate-ui@1.0.0-beta.6/icons","pragmate-ui@1.0.0-beta.6/base","@beyond-js/kernel@0.1.9/styles"],function(n,e){var o,t,a,l,r,i,c,s;return n({AlertModal:void 0,ConfirmModal:void 0,Modal:void 0,IModalProps:void 0}),{setters:[function(e){o=e},function(e){t=e},function(e){a=e},function(e){l=e},function(e){r=e},function(e){i=e}],execute:function(){s=o.Bundle,(c=new s({module:{vspecifier:"pragmate-ui@1.0.0-beta.6/modal"},type:"code"},e.meta.url).package()).dependencies.update([["react",t],["pragmate-ui/components",a],["pragmate-ui/icons",l],["pragmate-ui/base",r],["@beyond-js/kernel/styles",i]]),brequire("@beyond-js/kernel/styles").styles.register("pragmate-ui@1.0.0-beta.6/modal"),(s=new Map).set("./alert",{hash:853535473,creator:function(e,o){Object.defineProperty(o,"__esModule",{value:!0}),o.AlertModal=function(e){let[o,t]=s.useState({fetching:!1}),{text:n,title:a,centered:l,button:r={}}=e,i={className:"btn btn-primary"+(e.className?" "+e.className:""),disabled:o.fetching,label:e.buttonLabel||"Confirm",onClick:async()=>{t({fetching:!0}),e.onConfirm&&await e.onConfirm(),t({fetching:!1}),e.onClose&&e.onClose()},...r},c="pui-alert-dialog"+(l?" pui-alert-dialog-centered":"");return e.className&&(c+=" "+e.className),s.createElement(d.Modal,{show:!0,className:c,onClose:e.onClose},s.createElement("div",{className:"alert-dialog-content"},a&&s.createElement(m.HtmlWrapper,null,a),n&&s.createElement(m.HtmlWrapper,null,n),e.children||null),s.createElement("div",{className:"pui-modal-actions"},s.createElement(m.Button,{...i})))};var s=e("react"),d=e("./modal"),m=e("pragmate-ui/components")}}),s.set("./children",{hash:1764852864,creator:function(e,o){Object.defineProperty(o,"__esModule",{value:!0}),o.useModalContext=o.ModalContext=o.Children=void 0;var a=e("react"),l=a,r=e("pragmate-ui/icons");let i=o.ModalContext=(0,a.createContext)({});o.useModalContext=()=>(0,a.useContext)(i),o.Children=({children:e,close:o,dismiss:t})=>{var n=[],e=(!1!==t&&n.push(l.createElement(r.IconButton,{className:"close-icon",onClick:o,"data-dismiss":"modal","aria-label":"Close",key:"dismiss-button",icon:"close"})),l.Children.map(e,e=>(0,a.isValidElement)(e)?(0,a.cloneElement)(e,{}):e));return n.push(e),l.createElement(i.Provider,{value:{close:o,dismiss:t}},n)}}}),s.set("./confirm/index",{hash:1766706381,creator:function(e,o){Object.defineProperty(o,"__esModule",{value:!0}),o.ConfirmModal=void 0;var u=e("react"),p=e("pragmate-ui/components"),f=e("../modal"),C=e("./use-action-properties");o.ConfirmModal=e=>{var[o,t]=u.useState({fetching:!1}),{text:n,title:a,onCancel:l,centered:r,onClose:i,show:c}=e;let s="pui-confirm-dialog"+(r?" pui-confirm-dialog-centered":""),d=(e.className&&(s+=" "+e.className),Object.assign({},e));["text","title","className","centering","btnCancel","btnConfirm","onCancel"].forEach(e=>delete d[e]);var[r,t]=(0,C.useActionProperties)(e,t),m={},o=(o.fetching&&(m.disabled=!0),i??l);return u.createElement(f.Modal,{show:c,className:s,onClose:o},u.createElement("div",{className:"pui-confirm-dialog-content"},a&&u.createElement("h3",null,a),n&&u.createElement("div",{className:"pui-confirm-dialog-content__text"},n),e.children),u.createElement("div",{className:"pui-actions"},u.createElement(p.Button,{...t,...m}),u.createElement(p.Button,{...m,...r})))}}}),s.set("./confirm/use-action-properties",{hash:1336422196,creator:function(e,o){Object.defineProperty(o,"__esModule",{value:!0}),o.useActionProperties=function(e,t){var o=o=>async e=>{e.stopPropagation(),t({fetching:!0}),await o(),t({fetching:!1})};if(e.actions){var n={...e.actions.confirm},a={...e.actions.cancel};if(!n.onClick&&!e.onConfirm)throw new Error("ConfirmModal: No confirm function defined");if(a.onClick||e.onCancel)return n.onClick=o(n.onClick??e.onConfirm),a.onClick=a.onClick??e.onCancel,[n,a];throw new Error("ConfirmModal: No cancel function defined")}var{onCancel:n,onConfirm:a,btnConfirm:e,btnCancel:l}=e,o={label:"Confirm",variant:"primary",onClick:o(a)},a={label:"Cancel",variant:"primary",onClick:n,bordered:!0};return["object"==typeof e?{...o,...e}:o,"object"==typeof l?{...a,...l}:a]}}}),s.set("./modal",{hash:346464964,creator:function(e,o){Object.defineProperty(o,"__esModule",{value:!0}),o.Modal=function(n){let[a,l]=(0,c.useState)({show:n?.show??!1,closeClicked:(n.closeClicked||n.closeBackdrop)??!0,container:null}),e=(0,c.useRef)(null),o=(s.useEffect(()=>{l({...a,show:n.show})},[n.show]),async o=>{o&&o.stopPropagation();let t=document.querySelector("body");e.current.classList.add("modal-hidden"),globalThis.setTimeout(async()=>{l({...a,show:!1,closeClicked:!0}),t.setAttribute("style",""),t.classList.remove("body-custom-modal-opened");var e=n.onClose;e&&"function"==typeof e&&e(o)},200)}),t=a.show,r="pui-modal ";r+=n.className||"",t&&(r+=" show-modal");var i=[];return t&&i.push(s.createElement("div",{key:"modal-content-wrapper",className:"modal-wrapper"},s.createElement("div",{className:"modal-content",onClick:e=>{e.stopPropagation()}},s.createElement(d.Children,{...n,close:o,key:"children-content"},n.children)))),s.createElement("div",{ref:e,onClick:e=>{e.stopPropagation(),a.closeClicked&&o(e)},className:r},i)};var c=e("react"),s=c,d=e("./children")}}),s.set("./types/alert",{hash:3453279328,creator:function(e,o){Object.defineProperty(o,"__esModule",{value:!0})}}),s.set("./types/confirm",{hash:1975643840,creator:function(e,o){Object.defineProperty(o,"__esModule",{value:!0})}}),s.set("./types/modal-props",{hash:1658030921,creator:function(e,o){Object.defineProperty(o,"__esModule",{value:!0})}}),c.exports.descriptor=[{im:"./alert",from:"AlertModal",name:"AlertModal"},{im:"./confirm/index",from:"ConfirmModal",name:"ConfirmModal"},{im:"./modal",from:"Modal",name:"Modal"},{im:"./types/modal-props",from:"IModalProps",name:"IModalProps"}],c.exports.process=function({require:e,prop:o,value:t}){!e&&"AlertModal"!==o||n("AlertModal",e?e("./alert").AlertModal:t),!e&&"ConfirmModal"!==o||n("ConfirmModal",e?e("./confirm/index").ConfirmModal:t),!e&&"Modal"!==o||n("Modal",e?e("./modal").Modal:t),!e&&"IModalProps"!==o||n("IModalProps",e?e("./types/modal-props").IModalProps:t)},n("__beyond_pkg",c),n("hmr",new function(){this.on=(e,o)=>c.hmr.on(e,o),this.off=(e,o)=>c.hmr.off(e,o)}),c.initialise(s)}}});