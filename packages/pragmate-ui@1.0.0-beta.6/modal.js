System.register(["@beyond-js/kernel@0.1.9/bundle","react@18.3.1","pragmate-ui@1.0.0-beta.6/components","pragmate-ui@1.0.0-beta.6/icons","pragmate-ui@1.0.0-beta.6/base","@beyond-js/kernel@0.1.9/styles"],function(n,e){"use strict";var o,t,a,r,l,i,c,s;return n({AlertModal:void 0,ConfirmModal:void 0,Modal:void 0,IModalProps:void 0}),{setters:[function(e){o=e},function(e){t=e},function(e){a=e},function(e){r=e},function(e){l=e},function(e){i=e}],execute:function(){s=o.Bundle,(c=new s({module:{vspecifier:"pragmate-ui@1.0.0-beta.6/modal"},type:"code"},e.meta.url).package()).dependencies.update([["react",t],["pragmate-ui/components",a],["pragmate-ui/icons",r],["pragmate-ui/base",l],["@beyond-js/kernel/styles",i]]),brequire("@beyond-js/kernel/styles").styles.register("pragmate-ui@1.0.0-beta.6/modal"),(s=new Map).set("./alert",{hash:853535473,creator:function(e,o){Object.defineProperty(o,"__esModule",{value:!0}),o.AlertModal=function(e){const[o,t]=s.useState({fetching:!1}),{text:n,title:a,centered:r,button:l={}}=e,i={className:"btn btn-primary"+(e.className?" "+e.className:""),disabled:o.fetching,label:e.buttonLabel||"Confirm",onClick:async()=>{t({fetching:!0}),e.onConfirm&&await e.onConfirm(),t({fetching:!1}),e.onClose&&e.onClose()},...l};let c="pui-alert-dialog"+(r?" pui-alert-dialog-centered":"");return e.className&&(c+=" "+e.className),s.createElement(d.Modal,{show:!0,className:c,onClose:e.onClose},s.createElement("div",{className:"alert-dialog-content"},a&&s.createElement(m.HtmlWrapper,null,a),n&&s.createElement(m.HtmlWrapper,null,n),e.children||null),s.createElement("div",{className:"pui-modal-actions"},s.createElement(m.Button,{...i})))};var s=e("react"),d=e("./modal"),m=e("pragmate-ui/components")}}),s.set("./children",{hash:1764852864,creator:function(e,o){Object.defineProperty(o,"__esModule",{value:!0}),o.useModalContext=o.ModalContext=o.Children=void 0;var a=e("react"),r=a,l=e("pragmate-ui/icons");const i=o.ModalContext=(0,a.createContext)({});o.useModalContext=()=>(0,a.useContext)(i),o.Children=({children:e,close:o,dismiss:t})=>{var n=[],e=(!1!==t&&n.push(r.createElement(l.IconButton,{className:"close-icon",onClick:o,"data-dismiss":"modal","aria-label":"Close",key:"dismiss-button",icon:"close"})),r.Children.map(e,e=>(0,a.isValidElement)(e)?(0,a.cloneElement)(e,{}):e));return n.push(e),r.createElement(i.Provider,{value:{close:o,dismiss:t}},n)}}}),s.set("./confirm/index",{hash:479072307,creator:function(e,o){Object.defineProperty(o,"__esModule",{value:!0}),o.ConfirmModal=void 0;var m=e("react"),u=e("pragmate-ui/components"),p=e("../modal"),f=e("./use-action-properties");o.ConfirmModal=e=>{var[o,t]=m.useState({fetching:!1}),{text:n,title:a,onCancel:r,centered:l,onClose:i}=e;let c="pui-confirm-dialog"+(l?" pui-confirm-dialog-centered":"");e.className&&(c+=" "+e.className);const s=Object.assign({},e);["text","title","className","centering","btnCancel","btnConfirm","onCancel"].forEach(e=>delete s[e]);var[l,t]=(0,f.useActionProperties)(e,t),d={},o=(o.fetching&&(d.disabled=!0),i??r);return m.createElement(p.Modal,{show:!0,className:c,onClose:o},m.createElement("div",{className:"pui-confirm-dialog-content"},a&&m.createElement("h3",null,a),n&&m.createElement("div",{className:"pui-confirm-dialog-content__text"},n),e.children),m.createElement("div",{className:"pui-actions"},m.createElement(u.Button,{...t,...d}),m.createElement(u.Button,{...d,...l})))}}}),s.set("./confirm/use-action-properties",{hash:1336422196,creator:function(e,o){Object.defineProperty(o,"__esModule",{value:!0}),o.useActionProperties=function(e,t){var o=o=>async e=>{e.stopPropagation(),t({fetching:!0}),await o(),t({fetching:!1})};if(e.actions){var n={...e.actions.confirm},a={...e.actions.cancel};if(!n.onClick&&!e.onConfirm)throw new Error("ConfirmModal: No confirm function defined");if(a.onClick||e.onCancel)return n.onClick=o(n.onClick??e.onConfirm),a.onClick=a.onClick??e.onCancel,[n,a];throw new Error("ConfirmModal: No cancel function defined")}var{onCancel:n,onConfirm:a,btnConfirm:e,btnCancel:r}=e,o={label:"Confirm",variant:"primary",onClick:o(a)},a={label:"Cancel",variant:"primary",onClick:n,bordered:!0};return["object"==typeof e?{...o,...e}:o,"object"==typeof r?{...a,...r}:a]}}}),s.set("./modal",{hash:2995467792,creator:function(e,o){Object.defineProperty(o,"__esModule",{value:!0}),o.Modal=function(n){const[a,r]=(0,c.useState)({show:n?.show??!1,closeClicked:(n.closeClicked||n.closeBackdrop)??!0,container:null}),e=(0,c.useRef)(null),o=async o=>{o&&o.stopPropagation();const t=document.querySelector("body");e.current.classList.add("modal-hidden"),globalThis.setTimeout(async()=>{r({...a,show:!1,closeClicked:!0}),t.setAttribute("style",""),t.classList.remove("body-custom-modal-opened");var e=n.onClose;e&&"function"==typeof e&&e(o)},200)},t=a.show;let l="pui-modal ";l+=n.className||"",t&&(l+=" show-modal");var i=[];return t&&i.push(s.createElement("div",{key:"modal-content-wrapper",className:"modal-wrapper"},s.createElement("div",{className:"modal-content",onClick:e=>{e.stopPropagation()}},s.createElement(d.Children,{...n,close:o,key:"children-content"},n.children)))),s.createElement("div",{ref:e,onClick:e=>{e.stopPropagation(),a.closeClicked&&o(e)},className:l},i)};var c=e("react"),s=c,d=e("./children")}}),s.set("./types/alert",{hash:3453279328,creator:function(e,o){Object.defineProperty(o,"__esModule",{value:!0})}}),s.set("./types/confirm",{hash:4185920130,creator:function(e,o){Object.defineProperty(o,"__esModule",{value:!0})}}),s.set("./types/modal-props",{hash:1658030921,creator:function(e,o){Object.defineProperty(o,"__esModule",{value:!0})}}),c.exports.descriptor=[{im:"./alert",from:"AlertModal",name:"AlertModal"},{im:"./confirm/index",from:"ConfirmModal",name:"ConfirmModal"},{im:"./modal",from:"Modal",name:"Modal"},{im:"./types/modal-props",from:"IModalProps",name:"IModalProps"}],c.exports.process=function({require:e,prop:o,value:t}){!e&&"AlertModal"!==o||n("AlertModal",e?e("./alert").AlertModal:t),!e&&"ConfirmModal"!==o||n("ConfirmModal",e?e("./confirm/index").ConfirmModal:t),!e&&"Modal"!==o||n("Modal",e?e("./modal").Modal:t),!e&&"IModalProps"!==o||n("IModalProps",e?e("./types/modal-props").IModalProps:t)},n("__beyond_pkg",c),n("hmr",new function(){this.on=(e,o)=>c.hmr.on(e,o),this.off=(e,o)=>c.hmr.off(e,o)}),c.initialise(s)}}});