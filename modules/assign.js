System.register(["@beyond-js/kernel@0.1.9/bundle","pragmate-ui@0.1.1/components","@aimpact/chat@1.0.1/shared/components","react@18.2.0","@aimpact/ailearn-app@0.0.32/config","pragmate-ui@0.1.1/toast","pragmate-ui@0.1.1/icons","@aimpact/ailearn-app@0.0.32/components/icons","@beyond-js/kernel@0.1.9/routing","pragmate-ui@0.1.1/list","pragmate-ui@0.1.1/empty","@aimpact/ailearn-app@0.0.32/components/ui","pragmate-ui@0.1.1/modal","pragmate-ui@0.1.1/image","@beyond-js/reactive@1.1.12/model","@aimpact/ailearn-sdk@1.0.0/core","@beyond-js/kernel@0.1.9/styles"],function(s,e){"use strict";var t,a,n,o,i,r,l,c,m,u,d,p,f,g,h,y,v,b,_;return s("ModuleAssignments",void 0),{setters:[function(e){t=e},function(e){a=e},function(e){n=e},function(e){o=e},function(e){i=e},function(e){r=e},function(e){l=e},function(e){c=e},function(e){m=e},function(e){u=e},function(e){d=e},function(e){p=e},function(e){f=e},function(e){g=e},function(e){h=e},function(e){y=e},function(e){v=e}],execute:function(){_=t.Bundle,(b=new _({module:{vspecifier:"@aimpact/ailearn-app@0.0.32/modules/assign"},type:"code"},e.meta.url).package()).dependencies.update([["pragmate-ui/components",a],["@aimpact/chat/shared/components",n],["react",o],["@aimpact/ailearn-app/config",i],["pragmate-ui/toast",r],["pragmate-ui/icons",l],["@aimpact/ailearn-app/components/icons",c],["@beyond-js/kernel/routing",m],["pragmate-ui/list",u],["pragmate-ui/empty",d],["@aimpact/ailearn-app/components/ui",p],["pragmate-ui/modal",f],["pragmate-ui/image",g],["@beyond-js/reactive/model",h],["@aimpact/ailearn-sdk/core",y],["@beyond-js/kernel/styles",v]]),brequire("@beyond-js/kernel/styles").styles.register("@aimpact/ailearn-app@0.0.32/modules/assign"),(_=new Map).set("./actions",{hash:344728386,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ItemActions=void 0;var c=e("pragmate-ui/components"),m=e("react"),u=e("@aimpact/ailearn-app/config"),d=e("pragmate-ui/toast"),p=e("pragmate-ui/icons"),f=e("@aimpact/ailearn-app/components/icons");t.ItemActions=({item:a,texts:s,module:n,onClose:e})=>{const[t,o]=m.default.useState(!1),[i,r]=m.default.useState(n.assignments.classrooms.get(a.id)),l=""+u.default.params.baseUrl+i.link;return i?m.default.createElement("div",{className:"item__actions flex flex-container flex-vertical-center flex-space-between"},m.default.createElement(c.Link,{title:s.dashboard,onClick:e,target:"_blank",href:i.dashboard},m.default.createElement(f.AppIconButton,{bordered:!0,className:"circle",icon:"dashboard",title:s.actions.dashboard})),m.default.createElement(c.Link,{title:s.dashboard,onClick:e,target:"_blank",href:l},m.default.createElement(f.AppIconButton,{bordered:!0,className:"circle",icon:"link",title:s.actions.navigate})),m.default.createElement(p.IconButton,{className:"circle",icon:"copy",onClick:e=>{e.stopPropagation(),navigator.clipboard.writeText(l),d.toast.success(s.messages.copied)},title:s.actions.copy})):m.default.createElement("div",{className:"item__actions"},m.default.createElement(c.Button,{variant:"primary",bordered:!0,loading:t,onClick:async e=>{try{e.stopPropagation(),o(!0),e.preventDefault();var t=await n.assignments.add(a.id);r(t),o(!1)}catch(e){console.error(e)}finally{d.toast.success(s.messages.assigned)}}},s.actions.assign.button))}}}),_.set("./classrooms",{hash:2115102148,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Classrooms=void 0;var n=e("react"),o=e("pragmate-ui/components"),i=e("./item"),r=e("pragmate-ui/list"),l=e("./empty");t.Classrooms=({onClose:e,state:t,module:a,texts:s})=>t.ready?0===t.model.items.length?n.default.createElement(l.EmptyList,null):n.default.createElement("div",{className:"share__modal"},n.default.createElement("header",null,n.default.createElement("h3",null,s.title),n.default.createElement("h5",{className:"module-name"},s.module,": ",a.title)),n.default.createElement("div",{className:"modal__container"},n.default.createElement(r.List,{className:"classroom__list",items:t.model.items,control:i.ClassroomItem,specs:{module:a,texts:s,onClose:e}}))):n.default.createElement(o.Spinner,{active:!0})}}),_.set("./empty",{hash:2680377530,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.EmptyList=function(){return a.default.createElement("div",null,a.default.createElement(s.EmptyCard,{text:"aún no posees aulas creadas",icon:"info"},a.default.createElement(n.Link,{href:"/classrooms/create",className:"btn btn-primary btn-bordered"},"Crear aula")))};var a=e("react"),s=e("@aimpact/ailearn-app/components/ui"),n=e("pragmate-ui/components")}}),_.set("./index",{hash:2082168089,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ModuleAssignments=function({onClose:e,module:t,texts:a}){var[,s]=(0,r.useStore)({module:t});return n.default.createElement(i.Modal,{show:!0,onClose:e,closeBackdrop:!1,className:"modal--assignment"},n.default.createElement("div",{className:"share__modal"},n.default.createElement(o.Classrooms,{onClose:e,state:s,module:t,texts:a})))};var n=e("react"),o=e("./classrooms"),i=e("pragmate-ui/modal"),r=e("./use-store")}}),_.set("./item",{hash:4191729342,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ClassroomItem=void 0;var o=e("react"),i=e("./actions"),r=e("pragmate-ui/image");t.ClassroomItem=({item:e,specs:{texts:t,module:a,onClose:s}})=>{var n=""+e.name+(e.section?" - "+e.section:"");return o.default.createElement("li",{key:e.id},o.default.createElement(r.Image,{src:"#",className:"list-item__image"}),o.default.createElement("section",{className:"list-item__content"},o.default.createElement("h4",null,n),o.default.createElement("div",{className:"item__actions"},o.default.createElement(i.ItemActions,{item:e,texts:t,module:a,onClose:s}))))}}}),_.set("./store",{hash:3185825012,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.StoreManager=void 0;var a=e("@beyond-js/reactive/model"),s=e("@aimpact/ailearn-sdk/core");class n extends a.ReactiveModel{#items;get items(){return this.model.items}properties=["model"];#module;get module(){return this.#module}#associated;get associated(){return this.#associated}constructor(e){super(),this.model=new s.Classrooms,this.model.on("change",this.triggerEvent),this.load(e)}async load(e){this.#module=e.module,this.#associated=e.associated,globalThis.c=this;try{await this.model.load(),this.ready=!0}catch(e){console.error(e)}}async delete(e){await e.delete()}}t.StoreManager=n}}),_.set("./use-store",{hash:2441126484,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.useStore=function(a){const[e,s]=o.default.useState(),[t,n]=o.default.useState({});return o.default.useEffect(()=>{const t=new i.StoreManager(a),e=(s(t),()=>{n(e=>({...e,ready:t.ready,...t.getProperties()}))});return t.on("change",e),()=>{t.off("change",e)}},[]),[e,t]};var o=e("react"),i=e("./store")}}),b.exports.descriptor=[{im:"./index",from:"ModuleAssignments",name:"ModuleAssignments"}],b.exports.process=function({require:e,prop:t,value:a}){!e&&"ModuleAssignments"!==t||s("ModuleAssignments",e?e("./index").ModuleAssignments:a)},s("__beyond_pkg",b),s("hmr",new function(){this.on=(e,t)=>b.hmr.on(e,t),this.off=(e,t)=>b.hmr.off(e,t)}),b.initialise(_)}}});System.register(["@beyond-js/kernel@0.1.9/bundle","pragmate-ui@0.1.1/components","@aimpact/chat@1.0.1/shared/components","react@18.2.0","@aimpact/ailearn-app@0.0.32/config","pragmate-ui@0.1.1/toast","pragmate-ui@0.1.1/icons","@aimpact/ailearn-app@0.0.32/components/icons","@beyond-js/kernel@0.1.9/routing","pragmate-ui@0.1.1/list","pragmate-ui@0.1.1/empty","@aimpact/ailearn-app@0.0.32/components/ui","pragmate-ui@0.1.1/modal","pragmate-ui@0.1.1/image","@beyond-js/reactive@1.1.12/model","@aimpact/ailearn-sdk@1.0.0/core","@beyond-js/kernel@0.1.9/styles"],function(s,e){"use strict";var t,a,n,o,i,r,l,c,m,u,d,p,f,g,h,y,v,b,_;return s("ModuleAssignments",void 0),{setters:[function(e){t=e},function(e){a=e},function(e){n=e},function(e){o=e},function(e){i=e},function(e){r=e},function(e){l=e},function(e){c=e},function(e){m=e},function(e){u=e},function(e){d=e},function(e){p=e},function(e){f=e},function(e){g=e},function(e){h=e},function(e){y=e},function(e){v=e}],execute:function(){_=t.Bundle,(b=new _({module:{vspecifier:"@aimpact/ailearn-app@0.0.32/modules/assign"},type:"code"},e.meta.url).package()).dependencies.update([["pragmate-ui/components",a],["@aimpact/chat/shared/components",n],["react",o],["@aimpact/ailearn-app/config",i],["pragmate-ui/toast",r],["pragmate-ui/icons",l],["@aimpact/ailearn-app/components/icons",c],["@beyond-js/kernel/routing",m],["pragmate-ui/list",u],["pragmate-ui/empty",d],["@aimpact/ailearn-app/components/ui",p],["pragmate-ui/modal",f],["pragmate-ui/image",g],["@beyond-js/reactive/model",h],["@aimpact/ailearn-sdk/core",y],["@beyond-js/kernel/styles",v]]),brequire("@beyond-js/kernel/styles").styles.register("@aimpact/ailearn-app@0.0.32/modules/assign"),(_=new Map).set("./actions",{hash:344728386,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ItemActions=void 0;var c=e("pragmate-ui/components"),m=e("react"),u=e("@aimpact/ailearn-app/config"),d=e("pragmate-ui/toast"),p=e("pragmate-ui/icons"),f=e("@aimpact/ailearn-app/components/icons");t.ItemActions=({item:a,texts:s,module:n,onClose:e})=>{const[t,o]=m.default.useState(!1),[i,r]=m.default.useState(n.assignments.classrooms.get(a.id)),l=""+u.default.params.baseUrl+i.link;return i?m.default.createElement("div",{className:"item__actions flex flex-container flex-vertical-center flex-space-between"},m.default.createElement(c.Link,{title:s.dashboard,onClick:e,target:"_blank",href:i.dashboard},m.default.createElement(f.AppIconButton,{bordered:!0,className:"circle",icon:"dashboard",title:s.actions.dashboard})),m.default.createElement(c.Link,{title:s.dashboard,onClick:e,target:"_blank",href:l},m.default.createElement(f.AppIconButton,{bordered:!0,className:"circle",icon:"link",title:s.actions.navigate})),m.default.createElement(p.IconButton,{className:"circle",icon:"copy",onClick:e=>{e.stopPropagation(),navigator.clipboard.writeText(l),d.toast.success(s.messages.copied)},title:s.actions.copy})):m.default.createElement("div",{className:"item__actions"},m.default.createElement(c.Button,{variant:"primary",bordered:!0,loading:t,onClick:async e=>{try{e.stopPropagation(),o(!0),e.preventDefault();var t=await n.assignments.add(a.id);r(t),o(!1)}catch(e){console.error(e)}finally{d.toast.success(s.messages.assigned)}}},s.actions.assign.button))}}}),_.set("./classrooms",{hash:2115102148,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Classrooms=void 0;var n=e("react"),o=e("pragmate-ui/components"),i=e("./item"),r=e("pragmate-ui/list"),l=e("./empty");t.Classrooms=({onClose:e,state:t,module:a,texts:s})=>t.ready?0===t.model.items.length?n.default.createElement(l.EmptyList,null):n.default.createElement("div",{className:"share__modal"},n.default.createElement("header",null,n.default.createElement("h3",null,s.title),n.default.createElement("h5",{className:"module-name"},s.module,": ",a.title)),n.default.createElement("div",{className:"modal__container"},n.default.createElement(r.List,{className:"classroom__list",items:t.model.items,control:i.ClassroomItem,specs:{module:a,texts:s,onClose:e}}))):n.default.createElement(o.Spinner,{active:!0})}}),_.set("./empty",{hash:2680377530,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.EmptyList=function(){return a.default.createElement("div",null,a.default.createElement(s.EmptyCard,{text:"aún no posees aulas creadas",icon:"info"},a.default.createElement(n.Link,{href:"/classrooms/create",className:"btn btn-primary btn-bordered"},"Crear aula")))};var a=e("react"),s=e("@aimpact/ailearn-app/components/ui"),n=e("pragmate-ui/components")}}),_.set("./index",{hash:2082168089,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ModuleAssignments=function({onClose:e,module:t,texts:a}){var[,s]=(0,r.useStore)({module:t});return n.default.createElement(i.Modal,{show:!0,onClose:e,closeBackdrop:!1,className:"modal--assignment"},n.default.createElement("div",{className:"share__modal"},n.default.createElement(o.Classrooms,{onClose:e,state:s,module:t,texts:a})))};var n=e("react"),o=e("./classrooms"),i=e("pragmate-ui/modal"),r=e("./use-store")}}),_.set("./item",{hash:4191729342,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ClassroomItem=void 0;var o=e("react"),i=e("./actions"),r=e("pragmate-ui/image");t.ClassroomItem=({item:e,specs:{texts:t,module:a,onClose:s}})=>{var n=""+e.name+(e.section?" - "+e.section:"");return o.default.createElement("li",{key:e.id},o.default.createElement(r.Image,{src:"#",className:"list-item__image"}),o.default.createElement("section",{className:"list-item__content"},o.default.createElement("h4",null,n),o.default.createElement("div",{className:"item__actions"},o.default.createElement(i.ItemActions,{item:e,texts:t,module:a,onClose:s}))))}}}),_.set("./store",{hash:3185825012,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.StoreManager=void 0;var a=e("@beyond-js/reactive/model"),s=e("@aimpact/ailearn-sdk/core");class n extends a.ReactiveModel{#items;get items(){return this.model.items}properties=["model"];#module;get module(){return this.#module}#associated;get associated(){return this.#associated}constructor(e){super(),this.model=new s.Classrooms,this.model.on("change",this.triggerEvent),this.load(e)}async load(e){this.#module=e.module,this.#associated=e.associated,globalThis.c=this;try{await this.model.load(),this.ready=!0}catch(e){console.error(e)}}async delete(e){await e.delete()}}t.StoreManager=n}}),_.set("./use-store",{hash:2441126484,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.useStore=function(a){const[e,s]=o.default.useState(),[t,n]=o.default.useState({});return o.default.useEffect(()=>{const t=new i.StoreManager(a),e=(s(t),()=>{n(e=>({...e,ready:t.ready,...t.getProperties()}))});return t.on("change",e),()=>{t.off("change",e)}},[]),[e,t]};var o=e("react"),i=e("./store")}}),b.exports.descriptor=[{im:"./index",from:"ModuleAssignments",name:"ModuleAssignments"}],b.exports.process=function({require:e,prop:t,value:a}){!e&&"ModuleAssignments"!==t||s("ModuleAssignments",e?e("./index").ModuleAssignments:a)},s("__beyond_pkg",b),s("hmr",new function(){this.on=(e,t)=>b.hmr.on(e,t),this.off=(e,t)=>b.hmr.off(e,t)}),b.initialise(_)}}});