System.register(["@beyond-js/kernel@0.1.9/bundle","pragmate-ui@0.1.1/components","@aimpact/chat@1.0.1/shared/components","react@18.2.0","@aimpact/ailearn-app@0.0.42/config","pragmate-ui@0.1.1/toast","pragmate-ui@0.1.1/icons","@aimpact/ailearn-app@0.0.42/components/icons","@beyond-js/kernel@0.1.9/routing","pragmate-ui@0.1.1/list","pragmate-ui@0.1.1/empty","@aimpact/ailearn-app@0.0.42/components/ui","pragmate-ui@0.1.1/modal","pragmate-ui@0.1.1/image","@beyond-js/reactive@1.1.12/model","@aimpact/ailearn-sdk@1.0.0/core","@beyond-js/kernel@0.1.9/styles"],function(n,e){"use strict";var t,a,s,o,r,i,l,c,m,u,d,p,f,g,h,y,v,b,_;return n("ModuleAssignments",void 0),{setters:[function(e){t=e},function(e){a=e},function(e){s=e},function(e){o=e},function(e){r=e},function(e){i=e},function(e){l=e},function(e){c=e},function(e){m=e},function(e){u=e},function(e){d=e},function(e){p=e},function(e){f=e},function(e){g=e},function(e){h=e},function(e){y=e},function(e){v=e}],execute:function(){_=t.Bundle,(b=new _({module:{vspecifier:"@aimpact/ailearn-app@0.0.42/modules/assign"},type:"code"},e.meta.url).package()).dependencies.update([["pragmate-ui/components",a],["@aimpact/chat/shared/components",s],["react",o],["@aimpact/ailearn-app/config",r],["pragmate-ui/toast",i],["pragmate-ui/icons",l],["@aimpact/ailearn-app/components/icons",c],["@beyond-js/kernel/routing",m],["pragmate-ui/list",u],["pragmate-ui/empty",d],["@aimpact/ailearn-app/components/ui",p],["pragmate-ui/modal",f],["pragmate-ui/image",g],["@beyond-js/reactive/model",h],["@aimpact/ailearn-sdk/core",y],["@beyond-js/kernel/styles",v]]),brequire("@beyond-js/kernel/styles").styles.register("@aimpact/ailearn-app@0.0.42/modules/assign"),(_=new Map).set("./actions",{hash:2284706237,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ItemActions=void 0;var c=e("pragmate-ui/components"),m=e("react"),u=e("@aimpact/ailearn-app/config"),d=e("pragmate-ui/toast"),p=e("pragmate-ui/icons"),f=e("@aimpact/ailearn-app/components/icons");t.ItemActions=({item:a,texts:n,module:s,onClose:e})=>{const[t,o]=m.default.useState(!1),[r,i]=m.default.useState(s.assignments.classrooms.get(a.id));if(r){const l=""+u.default.params.baseUrl+r.link;return m.default.createElement("div",{className:"item__actions flex flex-container flex-vertical-center flex-space-between"},m.default.createElement(c.Link,{title:n.dashboard,onClick:e,target:"_blank",href:r.dashboard},m.default.createElement(f.AppIconButton,{bordered:!0,className:"circle",icon:"dashboard",title:n.actions.dashboard})),m.default.createElement(c.Link,{title:n.dashboard,onClick:e,target:"_blank",href:l},m.default.createElement(f.AppIconButton,{bordered:!0,className:"circle",icon:"link",title:n.actions.navigate})),m.default.createElement(p.IconButton,{className:"circle",icon:"copy",onClick:e=>{e.stopPropagation(),navigator.clipboard.writeText(l),d.toast.success(n.messages.copied)},title:n.actions.copy}))}return m.default.createElement("div",{className:"item__actions"},m.default.createElement(c.Button,{variant:"primary",bordered:!0,loading:t,onClick:async e=>{try{e.stopPropagation(),o(!0),e.preventDefault();var t=await s.assignments.add(a.id);i(t),o(!1)}catch(e){console.error(e)}finally{d.toast.success(n.messages.assigned)}}},n.actions.assign.button))}}}),_.set("./classrooms",{hash:2537774833,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Classrooms=void 0;var s=e("react"),o=e("pragmate-ui/components"),r=e("./item"),i=e("pragmate-ui/list"),l=e("./empty");t.Classrooms=({onClose:e,state:t,module:a,texts:n})=>t.ready?0===t.model.items.length?s.default.createElement(l.EmptyList,null):(t=t.model.items,s.default.createElement(s.default.Fragment,null,s.default.createElement("header",null,s.default.createElement("h3",null,n.title),s.default.createElement("h5",{className:"module-name"},n.module,": ",a.title)),s.default.createElement("div",{className:"modal__container"},s.default.createElement(i.List,{className:"classroom__list",items:t,control:r.ClassroomItem,specs:{module:a,texts:n,onClose:e}})))):s.default.createElement(o.Spinner,{active:!0})}}),_.set("./empty",{hash:2680377530,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.EmptyList=function(){return a.default.createElement("div",null,a.default.createElement(n.EmptyCard,{text:"aÃºn no posees aulas creadas",icon:"info"},a.default.createElement(s.Link,{href:"/classrooms/create",className:"btn btn-primary btn-bordered"},"Crear aula")))};var a=e("react"),n=e("@aimpact/ailearn-app/components/ui"),s=e("pragmate-ui/components")}}),_.set("./index",{hash:2821136962,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ModuleAssignments=function({onClose:e,module:t,texts:a}){var[,n]=(0,i.useStore)({module:t});return s.default.createElement(r.Modal,{show:!0,onClose:e,closeBackdrop:!1,className:"modal--assignment"},s.default.createElement(o.Classrooms,{onClose:e,state:n,module:t,texts:a}))};var s=e("react"),o=e("./classrooms"),r=e("pragmate-ui/modal"),i=e("./use-store")}}),_.set("./item",{hash:4191729342,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ClassroomItem=void 0;var o=e("react"),r=e("./actions"),i=e("pragmate-ui/image");t.ClassroomItem=({item:e,specs:{texts:t,module:a,onClose:n}})=>{var s=""+e.name+(e.section?" - "+e.section:"");return o.default.createElement("li",{key:e.id},o.default.createElement(i.Image,{src:"#",className:"list-item__image"}),o.default.createElement("section",{className:"list-item__content"},o.default.createElement("h4",null,s),o.default.createElement("div",{className:"item__actions"},o.default.createElement(r.ItemActions,{item:e,texts:t,module:a,onClose:n}))))}}}),_.set("./store",{hash:3154662945,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.StoreManager=void 0;var a=e("@beyond-js/reactive/model"),n=e("@aimpact/ailearn-sdk/core");class s extends a.ReactiveModel{properties=["model"];#module;get module(){return this.#module}#associated;get associated(){return this.#associated}constructor(e){super(),this.model=new n.Classrooms,this.model.on("change",this.triggerEvent),this.load(e)}async load(e){this.#module=e.module,this.#associated=e.associated,globalThis.c=this;try{await this.model.load(),this.ready=!0}catch(e){console.error(e)}}async delete(e){await e.delete()}}t.StoreManager=s}}),_.set("./use-store",{hash:4027213740,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.useStore=function(a){const[e,n]=o.default.useState(),[t,s]=o.default.useState({});return o.default.useEffect(()=>{const t=new r.StoreManager(a),e=(n(t),()=>{s(e=>({...e,ready:t.ready,...t.getProperties()}))});return t.on("change",e),()=>{t.off("change",e)}},[]),[e,t]};var o=e("react"),r=e("./store")}}),b.exports.descriptor=[{im:"./index",from:"ModuleAssignments",name:"ModuleAssignments"}],b.exports.process=function({require:e,prop:t,value:a}){!e&&"ModuleAssignments"!==t||n("ModuleAssignments",e?e("./index").ModuleAssignments:a)},n("__beyond_pkg",b),n("hmr",new function(){this.on=(e,t)=>b.hmr.on(e,t),this.off=(e,t)=>b.hmr.off(e,t)}),b.initialise(_)}}});