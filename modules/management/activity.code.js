System.register(["@beyond-js/kernel@0.1.9/bundle","@beyond-js/kernel@0.1.9/styles","react@18.2.0","@beyond-js/react-18-widgets@1.1.2/hooks","@aimpact/ailearn-app@0.1.13/components/ui","pragmate-ui@1.0.0-beta.6/list","pragmate-ui@1.0.0-beta.6/tabs","pragmate-ui@1.0.0-beta.6/components","@aimpact/chat-sdk@1.3.0/widgets/markdown","pragmate-ui@1.0.0-beta.6/empty","pragmate-ui@1.0.0-beta.6/form","pragmate-ui@1.0.0-beta.6/modal","@aimpact/ailearn-app@0.1.13/components/icons","pragmate-ui@1.0.0-beta.6/icons","@aimpact/ailearn-app@0.1.13/main-layout.widget","@beyond-js/kernel@0.1.9/routing","pragmate-ui@1.0.0-beta.6/form/react-select","@aimpact/ailearn-app@0.1.13/components/cover-image.code"],function(n,e){var t,a,l,r,o,i,c,s,u,d,m,p,f,v,y,g,h,b,C,E;return n({AIButton:void 0,AIIconButton:void 0,ActivityHeader:void 0,ModuleActivityForm:void 0}),{setters:[function(e){t=e},function(e){a=e},function(e){l=e},function(e){r=e},function(e){o=e},function(e){i=e},function(e){c=e},function(e){s=e},function(e){u=e},function(e){d=e},function(e){m=e},function(e){p=e},function(e){f=e},function(e){v=e},function(e){y=e},function(e){g=e},function(e){h=e},function(e){b=e}],execute:function(){E=t.Bundle,(C=new E({module:{vspecifier:"@aimpact/ailearn-app@0.1.13/modules/management/activity",multibundle:!0},type:"code"},e.meta.url).package()).dependencies.update([["@beyond-js/kernel/styles",a],["react",l],["@beyond-js/react-18-widgets/hooks",r],["@aimpact/ailearn-app/components/ui",o],["pragmate-ui/list",i],["pragmate-ui/tabs",c],["pragmate-ui/components",s],["@aimpact/chat-sdk/widgets/markdown",u],["pragmate-ui/empty",d],["pragmate-ui/form",m],["pragmate-ui/modal",p],["@aimpact/ailearn-app/components/icons",f],["pragmate-ui/icons",v],["@aimpact/ailearn-app/main-layout.widget",y],["@beyond-js/kernel/routing",g],["pragmate-ui/form/react-select",h],["@aimpact/ailearn-app/components/cover-image.code",b]]),brequire("@beyond-js/kernel/styles").styles.register("@aimpact/ailearn-app@0.1.13/modules/management/activity.code"),(E=new Map).set("./activities/character-talk/index",{hash:2837926980,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CharacterTalkActivity=function(){return a.createElement("div",null,"Character Talk")};var a=e("react")}}),E.set("./activities/content-theory/audio",{hash:955093853,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ContentTheoryAudio=function({}){let{activity:e,texts:t}=(0,d.useModuleContext)(),[a,n]=s.default.useState(!1),[l,r]=s.default.useState(e.materials.fetching),[o,i]=s.default.useState(e.materials.audios),c=void(0,m.useBinder)([e.materials],()=>{n(!1)});return a?s.default.createElement(u.ManualMaterialForm,{name:"article",onCancel:()=>n(!1)}):o?(c=Object.keys(o),s.default.createElement(s.default.Fragment,null,s.default.createElement(f.List,{className:"list-unstyled",items:c,control:({item:e})=>(0,d.useModuleContext)().activity.materials.audios[e]?.url?s.default.createElement("div",{className:"activity__audio"},s.default.createElement("h5",null,t.materials[e]),s.default.createElement(p.AudioPlayer,{url:o[e].url})):null,container:"div"}))):s.default.createElement(s.default.Fragment,null,s.default.createElement(p.EmptyCard,{className:"activity--empty",text:t.activities.empty.title,description:t.activities.empty.description},s.default.createElement("div",{className:"activity__actions"},s.default.createElement(v.AIButton,{onClick:async()=>{try{r(!0),await e.materials.generateAudio(),i(e.materials.audios)}catch(e){console.log(e)}finally{r(!1)}},variant:"primary"},t.actions.generate)),s.default.createElement(p.ProcessContainer,{fetching:l})))};var s=e("react"),u=e("./manual"),d=e("../../context"),m=e("@beyond-js/react-18-widgets/hooks"),p=e("@aimpact/ailearn-app/components/ui"),f=e("pragmate-ui/list"),v=e("../../components/ai-button")}}),E.set("./activities/content-theory/body",{hash:2138014486,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ContentTheoryBody=function(){let{activity:n,texts:l}=(0,u.useModuleContext)(),[,e]=s.default.useState(n.materials.fetching),[,t]=s.default.useState(n.materials.article),[a,r]=s.default.useState(!1),[,,]=s.default.useState(!1),o=()=>r(!a),i=[],c=((0,d.useBinder)([n.materials],()=>{e(n.materials.fetching),t({materials:n.materials.getData(),updated:!0})}),n.materials.items.forEach(e=>{var t="string"==typeof e?e:e.name,a=l.materials[t],e={disabled:!!e?.dependencies&&("string"==typeof e?.dependencies?!n.materials[e.dependencies]:e.dependencies.some(e=>!n.materials[e]))};i.push(s.default.createElement(m.Tab,{...e,key:n.id+`.${t}-tab`},a))}),{onClick:o,disabled:n.specs.empty&&n.materials.empty});return s.default.createElement(s.default.Fragment,null,s.default.createElement("header",{className:"activity__section-header"},s.default.createElement("h5",null,l.specs.title),s.default.createElement("div",{className:"actions flex-container flex-05"},s.default.createElement(f.Button,{variant:"link",...c,icon:"delete"},l.actions.delete))),s.default.createElement(y.ContentTheoryContent,null),s.default.createElement(p.ContentTheoryAudio,null),s.default.createElement(v.DeleteActivityData,{show:a,onClose:o}))};var s=e("react"),u=e("../../context"),d=e("@beyond-js/react-18-widgets/hooks"),m=e("pragmate-ui/tabs"),p=e("./audio"),f=e("pragmate-ui/components"),v=e("../../components/delete-modal"),y=e("./content")}}),E.set("./activities/content-theory/content",{hash:2186283171,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ContentTheoryContent=function(){let{activity:e,texts:t}=(0,c.useModuleContext)(),[a,n]=o.default.useState(!1),l=()=>n(!0);return(0,d.useBinder)([e.materials],()=>{n(!1)}),a?o.default.createElement(i.ManualMaterialForm,{name:"article",onCancel:()=>n(!1)}):e.materials.article?o.default.createElement(o.default.Fragment,null,o.default.createElement("section",{className:"material__content"},o.default.createElement(s.Markdown,{content:e.materials.article})),o.default.createElement("div",{className:"mt-30 activity-specs-actions flex-container flex-end material__actions"},o.default.createElement(r.Button,{icon:"edit",onClick:l,variant:"primary",bordered:!0},t.actions.edit))):o.default.createElement(u.EmptyMaterial,{name:"article",onManual:l})};var r=e("pragmate-ui/components"),o=e("react"),i=e("./manual"),c=e("../../context"),s=e("@aimpact/chat-sdk/widgets/markdown"),u=e("./empty-material"),d=e("@beyond-js/react-18-widgets/hooks")}}),E.set("./activities/content-theory/index",{hash:2521013357,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ContentTheoryActivity=function(){let{values:e,texts:t,activity:a,editData:n,store:l}=(0,c.useModuleContext)();return r.createElement(r.Fragment,null,r.createElement("div",{className:"specs-label"},r.createElement(o.LanguageField,null)),r.createElement("div",{className:"specs-label"},r.createElement("label",null," ",t.activities.description.label),r.createElement(i.ContentEditable,{name:"description",selector:"p",onSave:async({currentTarget:{name:e,value:t}})=>{n({[e]:t}),await a.set({[e]:t}),await l.save()},placeholder:t.activities.description.placeholder,content:a.description})),r.createElement("div",{className:"specs-label"},r.createElement("label",null,t.specs.objective.label),r.createElement(i.ContentEditable,{name:"objective",onSave:async({currentTarget:{name:e,value:t}})=>{e={specs:{...a.specs,[e]:t}},n(e),await a.set(e),await l.save()},placeholder:t.specs.objective.placeholder,content:e.specs.objective})),r.createElement(s.ContentTheoryBody,null))};var r=e("react"),o=e("../../components/language-field"),i=e("@aimpact/ailearn-app/components/ui"),c=e("../../context"),s=e("./body")}}),E.set("./activities/content-theory/manual",{hash:1132675609,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ManualMaterialForm=function({name:a,onCancel:t}){let{values:n,editData:l,activity:r,texts:e}=(0,d.useModuleContext)(),[o,i]=s.default.useState(!1);return s.default.createElement(s.default.Fragment,null,s.default.createElement("div",{className:"material__content"},s.default.createElement(u.Textarea,{onChange:e=>{var e=e.currentTarget,t={...n.materials};console,l({materials:{...t,[a]:e.value},updated:!0})},name:"content",value:n.materials?.[a]??"",placeholder:e.manual.textarea})),s.default.createElement("footer",{className:"section-actions__container actions-end"},s.default.createElement(c.Button,{onClick:()=>{n.updated?i(!0):t()},variant:"primary",bordered:!0},e.actions.cancel),s.default.createElement(p.SaveButton,{callback:()=>{l({updated:!1})}})),o&&s.default.createElement(m.ConfirmModal,{onConfirm:()=>{var e={...n.materials};l({materials:{...e,[a]:r.materials[a]},updated:!1}),i(!1),t()},onCancel:()=>i(!1)},s.default.createElement("div",null,e.manual.cancel)))};var c=e("pragmate-ui/components"),s=e("react"),u=e("pragmate-ui/form"),d=e("../../context"),m=e("pragmate-ui/modal"),p=e("../../save-button")}}),E.set("./activities/debate/index",{hash:3587483468,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.DebateActivity=function(){return a.createElement("div",null,"Debate")};var a=e("react")}}),E.set("./activities/multiple-choice/index",{hash:2459856897,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MultipleChoiceActivity=function(){return a.createElement("div",null,"Multiple Choice")};var a=e("react")}}),E.set("./activities/spoken/index",{hash:3782958361,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.SpokenActivity=function(){return a.createElement("div",null,"Spoken")};var a=e("react")}}),E.set("./components/ai-button",{hash:2396306767,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AIButton=function({children:e,onClick:t,ensure:a=!0,...n}){return a=a?()=>c.LayoutBroker.ensureCredits(t):t,l.default.createElement(o.Button,{...n,icon:r.ICONS.aiStars,onClick:a},e)},t.AIIconButton=function({children:e,onClick:t,ensure:a=!0,...n}){return a=a?()=>c.LayoutBroker.ensureCredits(t):t,l.default.createElement(i.IconButton,{...n,icon:r.ICONS.aiStars,onClick:a},e)};var l=e("react"),r=e("@aimpact/ailearn-app/components/icons"),o=e("pragmate-ui/components"),i=e("pragmate-ui/icons"),c=e("@aimpact/ailearn-app/main-layout.widget")}}),E.set("./components/cancel-modal",{hash:1641415938,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CancelChangesModal=function({show:e,onClose:t}){let{store:a,texts:n,clearData:l}=(0,i.useModuleContext)();return!!e&&o.default.createElement(r.ConfirmModal,{show:!0,title:n.modal.cancel.title,text:n.modal.cancel.description,onClose:t,onCancel:t,btnConfirm:{label:n.actions.confirm},btnCancel:{label:n.actions.cancel},onConfirm:()=>{l(),a.editActivity=void 0,t()}})};var r=e("pragmate-ui/modal"),o=e("react"),i=e("../context")}}),E.set("./components/delete-modal",{hash:3351610770,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.DeleteActivityData=function({show:e,onClose:t}){let[,a]=c.default.useState(!1),{texts:{activities:n,actions:l},activity:r,editData:o}=(0,s.useModuleContext)();return e?c.default.createElement(c.default.Fragment,null,c.default.createElement(i.ConfirmModal,{show:!0,onClose:t,onConfirm:e=async()=>{try{a(!0),t(),await r.clearContent();var e={specs:r.specs.getData(),materials:r.materials.getData(),updated:!1};o(e)}catch(e){console.error(e)}finally{a(!1)}},btnConfirm:{label:l.confirm},btnCancel:{label:l.cancel},onCancel:t},c.default.createElement("h3",null,n.deleteModal.title),c.default.createElement("p",null,n.deleteModal.description))):null};var i=e("pragmate-ui/modal"),c=e("react"),s=e("../context")}}),E.set("./components/generation-modal/activity-modal",{hash:3897163173,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ActivitySuggestionsModal=function({show:e,type:a,onClose:n}){let{texts:t,activity:l,editData:r}=(0,v.useModuleContext)(),[o,i]=u.default.useState(!1),[c,s]=u.default.useState({observations:"",removeItems:!1,type:a});return!!e&&u.default.createElement(d.Modal,{closeBackdrop:!(e={onChange:e=>{s({...c,[e.currentTarget.name]:e.currentTarget.value})},onClick:async e=>{i(!0);var t=await l.generate(a,c.observations);r({...t,updated:!1}),n(),setTimeout(()=>i(!1),2e3)}}),show:!0,className:"refine-modal",onClose:n},u.default.createElement(m.Form,null,u.default.createElement("header",null,u.default.createElement("h3",null,t.refine.title),u.default.createElement("span",null,t.refine.description)),u.default.createElement(m.Textarea,{label:t.refine.textarea.label,name:"observations",value:c.observations,onChange:e.onChange,placeholder:t.refine.textarea.placeholder})),u.default.createElement("footer",{className:"flex-container flex-end mt-15"},u.default.createElement(f.AIButton,{variant:"primary",onClick:e.onClick},t.actions.generate)),u.default.createElement(p.ProcessContainer,{fetching:o}))};var u=e("react"),d=e("pragmate-ui/modal"),m=e("pragmate-ui/form"),p=e("@aimpact/ailearn-app/components/ui"),f=e("../ai-button"),v=e("../../context")}}),E.set("./components/generation-modal/breadcrumb",{hash:3386163319,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.BreadCrumbHeader=function(){let{store:e,texts:t,values:a}=(0,o.useModuleContext)(),[n,l]=r.default.useState(!1);return r.default.createElement("div",{className:"internal-breadcrumb "},r.default.createElement(i.Link,{className:"back-link",onClick:()=>{a.updated?l(!0):(e.editActivity=void 0,e.setBreadcrumb(),c.routing.back())}},r.default.createElement(s.Icon,{icon:"backArrow",className:"circle"}),r.default.createElement(u.AppIcon,{icon:"module"}),r.default.createElement("span",null,t.actions.back," ",t.activities.module)),n&&r.default.createElement(d.ConfirmModal,{onConfirm:()=>{l(!1),e.editActivity=void 0,e.setBreadcrumb(),c.routing.back()},onCancel:()=>l(!1)},r.default.createElement("div",null,t.manual.cancel)))};var r=e("react"),o=e("../../context"),i=e("pragmate-ui/components"),c=e("@beyond-js/kernel/routing"),s=e("pragmate-ui/icons"),u=e("@aimpact/ailearn-app/components/icons"),d=e("pragmate-ui/modal")}}),E.set("./components/generation-modal/materials",{hash:1256829720,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MaterialsSuggestionsModal=function({type:t,onClose:a}){let{texts:e,activity:n,editData:l}=(0,v.useModuleContext)(),[r,o]=u.default.useState(!1),[i,c]=u.default.useState(""),s={onChange:e=>{c(e.currentTarget.value)},onClick:async e=>{o(!0),await n.materials.generate(t,i),l({materials:{...n.materials},specs:{...n.specs}}),a(),setTimeout(()=>{o(!1)},2e3)}};return u.default.createElement(d.Modal,{closeBackdrop:!1,show:!0,className:"refine-modal",onClose:a},u.default.createElement(m.Form,null,u.default.createElement("header",null,u.default.createElement("h3",null,e.refine.title),u.default.createElement("span",null,e.refine.description)),u.default.createElement(m.Textarea,{label:e.refine.textarea.label,name:"notes",value:i,onChange:s.onChange,placeholder:e.refine.textarea.placeholder})),u.default.createElement("footer",{className:"flex-container flex-end mt-15"},u.default.createElement(f.AIButton,{variant:"primary",onClick:s.onClick},e.actions.generate)),u.default.createElement(p.ProcessContainer,{fetching:r}))};var u=e("react"),d=e("pragmate-ui/modal"),m=e("pragmate-ui/form"),p=e("@aimpact/ailearn-app/components/ui"),f=e("../ai-button"),v=e("../../context")}}),E.set("./components/generation-modal/specs-modal",{hash:3045223981,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.SpecsSuggestionsModal=function({onClose:e,suggestionSpecs:r={}}){let{texts:o,activity:i,editData:c}=(0,g.useModuleContext)(),[t,s]=m.default.useState(!1),[u,a]=m.default.useState(""),[n,d]=m.default.useState(""),l={onChange:e=>{a(e.currentTarget.value)},onClick:async e=>{try{s(!0);var t,a=await i.specs.generate(u,{...r});a.error?(d(([n,l=[]]=[a.error,a.fields],n=o.errors?.[n]?n:"default",l.length?o.errors[n]+" "+l:o.errors[n])),s(!1)):(t=i.specs.getData(),c({specs:t}),setTimeout(()=>{s(!1)},1e3))}catch(e){console.error(99,e,e.message),d("default")}var n,l}};return m.default.createElement(p.Modal,{closeBackdrop:!1,show:!0,className:"refine-modal",onClose:e},m.default.createElement("header",null,m.default.createElement("h3",null,o.refine.title),m.default.createElement("span",null,o.refine.description)),m.default.createElement(f.Form,null,m.default.createElement(v.ErrorRenderer,{texts:o,error:n}),m.default.createElement(f.Textarea,{label:o.refine.textarea.label,name:"notes",value:u,onChange:l.onChange,placeholder:o.refine.textarea.placeholder})),m.default.createElement("footer",{className:"flex-container flex-end mt-15"},m.default.createElement(y.AIButton,{variant:"primary",onClick:l.onClick},o.actions.generate)),m.default.createElement(v.ProcessContainer,{fetching:t}))};var m=e("react"),p=e("pragmate-ui/modal"),f=e("pragmate-ui/form"),v=e("@aimpact/ailearn-app/components/ui"),y=e("../ai-button"),g=e("../../context")}}),E.set("./components/generation-modal/suggestions-modal",{hash:3036694819,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.SuggestionModal=function({type:e,onClose:t}){let{texts:a,activity:n}=(0,f.useModuleContext)(),[l,r]=s.default.useState(!1),[o,i]=s.default.useState({observations:"",removeItems:!1,type:e}),c={onChange:e=>{i({...o,[e.currentTarget.name]:e.currentTarget.value})},onClick:async e=>{r(!0),await n.specs.generate(o.observations),t(),setTimeout(()=>{r(!1)},2e3)}};return s.default.createElement(u.Modal,{closeBackdrop:!1,show:!0,className:"refine-modal",onClose:t},s.default.createElement(d.Form,null,s.default.createElement("header",null,s.default.createElement("h3",null,a.refine.title),s.default.createElement("span",null,a.refine.description)),s.default.createElement(d.Textarea,{label:a.refine.textarea.label,name:"observations",value:o.observations,onChange:c.onChange,placeholder:a.refine.textarea.placeholder})),s.default.createElement("footer",{className:"flex-container flex-end mt-15"},s.default.createElement(p.AIButton,{variant:"primary",onClick:c.onClick},a.actions.generate)),s.default.createElement(m.ProcessContainer,{fetching:l}))};var s=e("react"),u=e("pragmate-ui/modal"),d=e("pragmate-ui/form"),m=e("@aimpact/ailearn-app/components/ui"),p=e("../ai-button"),f=e("../../context")}}),E.set("./components/language-field",{hash:472773709,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.LanguageField=function(){let{texts:t,store:a,activity:n}=(0,c.useModuleContext)(),[,l]=(t.languages.select.placeholder,o.default.useState(n.language)),e=["en","es"].map(e=>({value:e,label:t.languages[e]})),r={isDisabled:a.saved};return o.default.createElement(o.default.Fragment,null,o.default.createElement("label",{htmlFor:""},t.languages.select.label),o.default.createElement(i.ReactSelect,{value:n.language,name:"audience",options:e,onChange:async e=>{l(e.currentTarget.value),await n.set({language:e.currentTarget.value}),await a.save()},...r}))};var o=e("react"),i=e("pragmate-ui/form/react-select"),c=e("../context")}}),E.set("./components/select-activity",{hash:2971708945,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.SelectActivity=function({values:t,setValues:e}){let{activity:a,store:n}=(0,c.useModuleContext)(),l={value:"",label:"Select"},r=[];n.model.activities.items.forEach(e=>{e.id!==a.id&&(e.id===t.specs.activityId&&(l={value:e.id,label:e.title}),r.push({value:e.id,label:e.title}))});return o.default.createElement("label",{htmlFor:"",className:"help-info"},"Is this activity based on another?",o.default.createElement(i.ReactSelect,{onChange:t=>{e(e=>({...e,specs:{...e.specs,activityId:t.target.value}}))},defaultValue:l,options:[l,...r]}))};var o=e("react"),i=e("pragmate-ui/form/react-select"),c=e("../context")}}),E.set("./context",{hash:3785027250,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.useModuleContext=t.ModuleContext=void 0;var a=e("react");let n=t.ModuleContext=a.default.createContext({});t.useModuleContext=()=>a.default.useContext(n)}}),E.set("./header",{hash:4175545107,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ActivityHeader=function({}){let{activity:t,texts:e,editData:a}=(0,u.useModuleContext)(),[n,l]=c.default.useState(!1),[r,o]=c.default.useState({src:t.picture,date:Date.now()}),i="header-activity__container header-activity__container--"+t.type;return(0,f.useBinder)([t],()=>o({src:t.picture,date:Date.now()}),"image.generated"),c.default.createElement("section",{className:"page-edition-section-header"},c.default.createElement(m.BreadCrumbHeader,null),c.default.createElement("header",{className:i},c.default.createElement(p.CoverImage,{title:e.picture.title,description:e.picture.description,suggestions:t.pictureSuggestions,entity:"activity",picture:r.src+"?size=sm&"+Date.now(),onGenerate:e=>t.generatePicture(e)}),c.default.createElement("div",{className:"header__title-container"},c.default.createElement(s.ContentEditable,{className:"inline-control",name:"title",as:"h3",onSave:async e=>{e={title:e.target.value},a(e),await t.save(e)},content:t.title,placeholder:e.form.title})),c.default.createElement(v.AppIcon,{className:"activiy-icon",icon:t.type})),c.default.createElement(d.ActivitySuggestionsModal,{show:n,type:t.type,onClose:()=>l(!n)}))};var c=e("react"),s=e("@aimpact/ailearn-app/components/ui"),u=e("./context"),d=e("./components/generation-modal/activity-modal"),m=e("./components/generation-modal/breadcrumb"),p=e("@aimpact/ailearn-app/components/cover-image.code"),f=e("@beyond-js/react-18-widgets/hooks"),v=e("@aimpact/ailearn-app/components/icons")}}),E.set("./index",{hash:3374734682,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ModuleActivityForm=function({store:e,activity:t}){var[,,]=r.default.useState(t.getData()),[a,n]=(0,c.useTexts)(s.module.specifier),l=t.type;return e.activityTypes.get(l),a?(e={store:e,activity:t,texts:n},console.log(10,l),r.default.createElement(u.ModuleContext.Provider,{value:e},r.default.createElement(i.PageContainer,{className:"page-activity-container activity-container--"+t.type},r.default.createElement(d.ActivityHeader,null),r.default.createElement(o.ConditionalContainer,{condition:l,options:{"multiple-choice":m.MultipleChoiceActivity,debate:p.DebateActivity,"character-talk":f.CharacterTalkActivity,spoken:v.SpokenActivity,"content-theory":y.ContentTheoryActivity},placeholder:()=>r.default.createElement(r.default.Fragment,null,"Nada que renderizar")})))):r.default.createElement(o.Spinner,{active:!0})};var r=e("react"),o=e("pragmate-ui/components"),i=e("@aimpact/ailearn-app/components/ui"),c=e("@beyond-js/react-18-widgets/hooks"),s=e("beyond_context"),u=e("./context"),d=e("./header"),m=e("./activities/multiple-choice"),p=e("./activities/debate"),f=e("./activities/character-talk"),v=e("./activities/spoken"),y=e("./activities/content-theory")}}),E.set("./interface",{hash:792411869,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})}}),E.set("./materials/manual-material-form",{hash:2471684898,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ManualMaterialForm=function({name:a,onCancel:t}){let{values:n,editData:l,activity:r,texts:e}=(0,d.useModuleContext)(),[o,i]=s.default.useState(!1);return s.default.createElement("div",null,s.default.createElement(u.Textarea,{onChange:e=>{var e=e.currentTarget,t={...n.materials};l({materials:{...t,[a]:e.value},updated:!0})},name:a,value:n.materials?.[a]??"",placeholder:e.manual[a].textarea}),s.default.createElement("footer",{className:"section-actions__container actions-end"},s.default.createElement(c.Button,{onClick:()=>{n.updated?i(!0):t()},variant:"primary",bordered:!0},e.actions.cancel),s.default.createElement(p.SaveButton,{callback:()=>{l({updated:!1}),t()}})),o&&s.default.createElement(m.ConfirmModal,{onConfirm:()=>{var e={...n.materials};l({materials:{...e,[a]:r.materials[a]}}),i(!1),t()},onCancel:()=>i(!1)},s.default.createElement("div",null,e.manual.cancel)))};var c=e("pragmate-ui/components"),s=e("react"),u=e("pragmate-ui/form"),d=e("../../context"),m=e("pragmate-ui/modal"),p=e("../../save-button")}}),E.set("./materials/pane",{hash:3959656546,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MaterialPane=function({name:e}){let{activity:t,texts:a}=(0,d.useModuleContext)(),[n,l]=c.default.useState(!1),[r,o]=c.default.useState(t.materials[e]),i=()=>l(!n);return(0,u.useBinder)([t.materials],()=>o(t.materials[e])),n?c.default.createElement(f.ManualMaterialForm,{name:e,onCancel:i}):r?c.default.createElement(v.AnimatedContainer,null,c.default.createElement("section",{className:"material__content"},c.default.createElement(s.Markdown,{content:r})),c.default.createElement("div",{className:"mt-30 activity-specs-actions flex-container flex-end material__actions"},c.default.createElement(m.Button,{icon:"edit",onClick:()=>l(!0),variant:"primary",bordered:!0},a.actions.edit))):c.default.createElement(p.EmptyMaterial,{name:e,onManual:i})};var c=e("react"),s=e("@aimpact/chat-sdk/widgets/markdown"),u=e("@beyond-js/react-18-widgets/hooks"),d=e("../../context"),m=e("pragmate-ui/components"),p=e("../content-theory/empty-material"),f=e("./manual-material-form"),v=e("@aimpact/ailearn-app/components/ui")}}),E.set("./save-button",{hash:1603006657,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.SaveButton=function({saved:t=!1,disabled:e,callback:a}){let{values:n,editData:l,texts:r,store:o,activity:i}=(0,u.useModuleContext)(),c={disabled:!n.updated||e,onClick:async e=>{e.stopPropagation(),t||(await o.model.activities.map.get(i.id).set(n),await i.set(n),o.save(),l({updated:!1})),a&&a()}};return s.default.createElement(d.Button,{variant:"primary",...c},r.actions.save)};var s=e("react"),u=e("./context"),d=e("pragmate-ui/components")}}),C.exports.descriptor=[{im:"./components/ai-button",from:"AIButton",name:"AIButton"},{im:"./components/ai-button",from:"AIIconButton",name:"AIIconButton"},{im:"./header",from:"ActivityHeader",name:"ActivityHeader"},{im:"./index",from:"ModuleActivityForm",name:"ModuleActivityForm"}],C.exports.process=function({require:e,prop:t,value:a}){!e&&"AIButton"!==t||n("AIButton",e?e("./components/ai-button").AIButton:a),!e&&"AIIconButton"!==t||n("AIIconButton",e?e("./components/ai-button").AIIconButton:a),!e&&"ActivityHeader"!==t||n("ActivityHeader",e?e("./header").ActivityHeader:a),!e&&"ModuleActivityForm"!==t||n("ModuleActivityForm",e?e("./index").ModuleActivityForm:a)},n("__beyond_pkg",C),n("hmr",new function(){this.on=(e,t)=>C.hmr.on(e,t),this.off=(e,t)=>C.hmr.off(e,t)}),C.initialise(E)}}});