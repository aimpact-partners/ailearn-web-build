System.register(["@beyond-js/widgets@1.1.0/render","@beyond-js/kernel@0.1.9/bundle","@beyond-js/kernel@0.1.9/styles","@beyond-js/react-18-widgets@1.1.2/page","@beyond-js/reactive@1.1.12/model","@beyond-js/kernel@0.1.9/texts","@aimpact/chat-sdk@1.0.1/session","react@18.2.0","@aimpact/ailearn-app@0.0.51.dev-04/components/icons","pragmate-ui@0.1.1/components","@aimpact/ailearn-app@0.0.51.dev-04/components/ui","@beyond-js/react-18-widgets@1.1.2/hooks","framer-motion@10.18.0"],function(n,e){var t,a,r,o,l,c,s,i,d,u,m,p,f,y,v;return n("Controller",void 0),{setters:[function(e){t=e},function(e){a=e},function(e){r=e},function(e){o=e},function(e){l=e},function(e){c=e},function(e){s=e},function(e){i=e},function(e){d=e},function(e){u=e},function(e){m=e},function(e){p=e},function(e){f=e}],execute:function(){v=a.Bundle,(y=new v({module:{vspecifier:"@aimpact/ailearn-app@0.0.51.dev-04/identify",multibundle:!0},type:"widget"},e.meta.url).package()).dependencies.update([["@beyond-js/widgets/render",t],["@beyond-js/kernel/styles",r],["@beyond-js/react-18-widgets/page",o],["@beyond-js/reactive/model",l],["@beyond-js/kernel/texts",c],["@aimpact/chat-sdk/session",s],["react",i],["@aimpact/ailearn-app/components/icons",d],["pragmate-ui/components",u],["@aimpact/ailearn-app/components/ui",m],["@beyond-js/react-18-widgets/hooks",p],["framer-motion",f]]),brequire("@beyond-js/widgets/render").widgets.register([{name:"ailearn-identify-page",vspecifier:"@aimpact/ailearn-app@0.0.51.dev-04/identify.widget",is:"page",route:"/next-steps"}]),brequire("@beyond-js/kernel/styles").styles.register("@aimpact/ailearn-app@0.0.51.dev-04/identify.widget"),(v=new Map).set("./controller",{hash:1927493790,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Controller=void 0;var a=e("@beyond-js/react-18-widgets/page"),n=e("./store"),r=e("./views");class o extends a.PageReactWidgetController{#store;createStore(){return this.#store=new n.StoreManager,this.#store}get Widget(){return r.View}show(){}hide(){}}t.Controller=o}}),v.set("./store",{hash:2575454818,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.StoreManager=void 0;var a=e("@beyond-js/reactive/model"),n=e("@beyond-js/kernel/texts"),r=e("beyond_context"),o=e("@aimpact/chat-sdk/session");class l extends a.ReactiveModel{#texts=new n.CurrentTexts(r.module.specifier);get texts(){return this.#texts?.value}get user(){return o.sessionWrapper.user}get isMinor(){return this.user.age<18}get ready(){return super.ready&&this.#texts.ready}constructor(){super(),this.#texts.on("change",this.triggerEvent),super.ready=!0}}t.StoreManager=l}}),v.set("./views/card/base",{hash:2670363975,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CardBase=function({type:e,href:t}){let{texts:a,setTypeSelected:n}=(0,m.useModuleContext)();var r,o,l,c,s;return a[e]?({title:r,description:o,icon:l}=a[e],c={link:{href:t,className:"btn btn-secondary"},button:{variant:"secondary",onClick:()=>n(e)}},s=t?u.Link:u.Button,t=t?c.link:c.button,i.default.createElement(i.default.Fragment,null,i.default.createElement("figure",null,i.default.createElement(d.AppIcon,{icon:l,className:"card__icon"}),i.default.createElement("figcaption",null,i.default.createElement("h2",null,r))),i.default.createElement("div",{className:"card__content"},i.default.createElement("p",null,o)),i.default.createElement("footer",{className:"card__actions"},i.default.createElement(s,{...t},a.actions.accept)))):null};var i=e("react"),d=e("@aimpact/ailearn-app/components/icons"),u=e("pragmate-ui/components"),m=e("../context")}}),v.set("./views/card/index",{hash:2474914946,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Card=function(e){var t=e.type,{texts:a,typeSelected:n}=(0,l.useModuleContext)();return!a[t]||(a=n&&n===t,n&&!a)?null:(n=a?c.CardSelected:s.CardBase,r.default.createElement(o.AnimatedContainer,{exit:{duration:.3,bottom:-100},className:"card__container "+(a?" card--block":"")},r.default.createElement(n,{...e})))};var r=e("react"),o=e("@aimpact/ailearn-app/components/ui"),l=e("../context"),c=e("./selected"),s=e("./base")}}),v.set("./views/card/selected",{hash:2132085253,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CardSelected=function({type:e}){let{texts:t,setTypeSelected:a}=(0,i.useModuleContext)();var n,r,o;return t[e]?({title:n,icon:r,message:o}=t[e],e="teacher"===e||"admin"===e,l.default.createElement(l.default.Fragment,null,l.default.createElement("figure",null,l.default.createElement(c.AppIcon,{icon:r,className:"card__icon"}),l.default.createElement("figcaption",null,l.default.createElement("h2",null,n)),l.default.createElement("div",{className:"card__content"},l.default.createElement(s.HtmlWrapper,null,o))),l.default.createElement("footer",{className:"card__actions"},e&&l.default.createElement(s.Link,{href:"/organizations/join",className:"btn btn-primary"},t.actions.continue),l.default.createElement(s.Button,{variant:"primary",bordered:!0,onClick:()=>a(null)},t.actions.back)))):null};var l=e("react"),c=e("@aimpact/ailearn-app/components/icons"),s=e("pragmate-ui/components"),i=e("../context")}}),v.set("./views/card/types",{hash:1759672895,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})}}),v.set("./views/cards",{hash:1682566228,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CardsContainer=function(){var{texts:e,typeSelected:t,store:a}=(0,r.useModuleContext)(),t=t?e[t].selectionTitle:e.title;return n.default.createElement(l.AnimatedContainer,{exit:{duration:.3,bottom:-100},className:"general-container"},n.default.createElement(l.PageContainer,{className:"center--container"},n.default.createElement("div",null,n.default.createElement("header",null,n.default.createElement("h1",null,t)),n.default.createElement("div",{className:"cards-container"},n.default.createElement(o.Card,{type:"student"}),!a.isMinor&&n.default.createElement(n.default.Fragment,null,n.default.createElement(o.Card,{type:"teacher"}),n.default.createElement(o.Card,{type:"institution",href:"/organizations/create"}))))))};var n=e("react"),r=e("./context"),o=e("./card"),l=e("@aimpact/ailearn-app/components/ui")}}),v.set("./views/context",{hash:1746411293,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.useModuleContext=t.ModuleContext=void 0;var a=e("react");let n=t.ModuleContext=a.default.createContext({});t.useModuleContext=()=>a.default.useContext(n)}}),v.set("./views/index",{hash:1116627097,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.View=function({store:e}){let t=e.texts,[a,n]=l.default.useState(e.ready),[r,o]=l.default.useState();return(0,c.useBinder)([e],()=>n(e.ready)),a?l.default.createElement(s.ModuleContext.Provider,{value:{texts:t,setTypeSelected:o,typeSelected:r,store:e}},l.default.createElement(i.AnimatePresence,{mode:"wait"},l.default.createElement(d.CardsContainer,null))):"preload..."};var l=e("react"),c=e("@beyond-js/react-18-widgets/hooks"),s=e("./context"),i=e("framer-motion"),d=e("./cards")}}),v.set("./views/selected-type",{hash:67194527,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.SelectedType=function({}){var{texts:e,typeSelected:t}=(0,n.useModuleContext)();return a.default.createElement(r.AnimatedContainer,{className:"general-container"},a.default.createElement(r.PageContainer,{className:"center--container"},a.default.createElement("div",{className:"message-container"},a.default.createElement("h3",null,e[t].message))))};var a=e("react"),n=e("./context"),r=e("@aimpact/ailearn-app/components/ui")}}),y.exports.descriptor=[{im:"./controller",from:"Controller",name:"Controller"}],y.exports.process=function({require:e,prop:t,value:a}){!e&&"Controller"!==t||n("Controller",e?e("./controller").Controller:a)},n("__beyond_pkg",y),n("hmr",new function(){this.on=(e,t)=>y.hmr.on(e,t),this.off=(e,t)=>y.hmr.off(e,t)}),y.initialise(v)}}});