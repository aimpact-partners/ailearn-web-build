System.register(["@beyond-js/widgets@1.1.0/render","@beyond-js/kernel@0.1.9/bundle","@beyond-js/kernel@0.1.9/styles","@beyond-js/react-18-widgets@1.1.2/base","@aimpact/ailearn-app@0.0.34.dev-01/model/gclassroom","@beyond-js/reactive@1.1.12/model","@aimpact/chat-sdk@1.0.0/core","dayjs@1.11.10","react@18.2.0","pragmate-ui@0.1.1/icons","pragmate-ui@0.1.1/components","@beyond-js/react-18-widgets@1.1.2/hooks","@aimpact/chat@1.0.1/shared/hooks","@aimpact/ailearn-app@0.0.34.dev-01/model/wrapper","@beyond-js/kernel@0.1.9/routing"],function(a,e){"use strict";var t,r,s,o,n,i,l,c,d,u,m,p,f,g,y,h,v;return a({Controller:void 0,Explorer:void 0}),{setters:[function(e){t=e},function(e){r=e},function(e){s=e},function(e){o=e},function(e){n=e},function(e){i=e},function(e){l=e},function(e){c=e},function(e){d=e},function(e){u=e},function(e){m=e},function(e){p=e},function(e){f=e},function(e){g=e},function(e){y=e}],execute:function(){v=r.Bundle,(h=new v({module:{vspecifier:"@aimpact/ailearn-app@0.0.34.dev-01/gclassroom-explorer",multibundle:!0},type:"widget"},e.meta.url).package()).dependencies.update([["@beyond-js/widgets/render",t],["@beyond-js/kernel/styles",s],["@beyond-js/react-18-widgets/base",o],["@aimpact/ailearn-app/model/gclassroom",n],["@beyond-js/reactive/model",i],["@aimpact/chat-sdk/core",l],["dayjs",c],["react",d],["pragmate-ui/icons",u],["pragmate-ui/components",m],["@beyond-js/react-18-widgets/hooks",p],["@aimpact/chat/shared/hooks",f],["@aimpact/ailearn-app/model/wrapper",g],["@beyond-js/kernel/routing",y]]),brequire("@beyond-js/widgets/render").widgets.register([{name:"ailearn-gclassroom-explorer",vspecifier:"@aimpact/ailearn-app@0.0.34.dev-01/gclassroom-explorer.widget"}]),brequire("@beyond-js/kernel/styles").styles.register("@aimpact/ailearn-app@0.0.34.dev-01/gclassroom-explorer.widget"),(v=new Map).set("./controller",{hash:4293631984,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Controller=void 0;var r=e("@beyond-js/react-18-widgets/base"),a=e("./store"),s=e("./views");class o extends r.ReactWidgetController{#store;createStore(){return this.#store=new a.StoreManager,this.#store}get Widget(){return s.Explorer}}t.Controller=o}}),v.set("./store",{hash:699880654,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.StoreManager=void 0;var r=e("@beyond-js/reactive/model"),a=e("@aimpact/ailearn-app/model/gclassroom"),s=e("dayjs");class o extends r.ReactiveModel{get isReady(){return a.gclassroom.isReady}#items=new Map;get items(){return[...a.gclassroom.classes.values()]}#lastTime;constructor(){super(),a.gclassroom.on("change",this.triggerEvent),this.#init()}loadClasses=async()=>{this.fetching=!0,await a.gclassroom.courses(),this.fetching=!1};async#init(){var e=(0,s.default)();a.gclassroom.lastClassesQueryTime&&a.gclassroom.classes.size?(this.ready=!0,5<e.diff(a.gclassroom.lastClassesQueryTime,"minutes")&&this.loadClasses()):(await this.loadClasses(),this.ready=!0)}}t.StoreManager=o}}),v.set("./views/context",{hash:825742320,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.useExplorerContext=t.ExplorerContext=void 0;var r=e("react");const a=t.ExplorerContext=r.default.createContext({});t.useExplorerContext=()=>r.default.useContext(a)}}),v.set("./views/empty",{hash:2813385547,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.EmptyExplorer=function({}){return r.default.createElement("div",{className:"sidebar__empty"},r.default.createElement(a.Icon,{icon:"circle-exclamation"}),r.default.createElement("h4",null,"There are no items to show"))};var r=e("react"),a=e("pragmate-ui/icons")}}),v.set("./views/index",{hash:3368083101,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Explorer=function({store:e}){const[t,r]=(0,h.useTexts)(g.module.specifier),[,a]=m.default.useState(e.fetching),[s,o]=m.default.useState(e.ready),n=((0,y.useBinder)([e],()=>{o(e.ready),a(e.fetching)}),t&&f.gclassroom.ready&&s);if(!n)return m.default.createElement(p.Spinner,{active:!0,type:"primary"});var i=e.items.length?u.List:l.EmptyExplorer;return m.default.createElement(c.ExplorerContext.Provider,{value:{store:e,texts:r}},m.default.createElement("article",null,m.default.createElement("header",{className:"aside__top"},m.default.createElement("h3",null,r.title),m.default.createElement(d.IconButton,{onClick:e.loadClasses,variant:"default",className:"circle",icon:"refresh"})),m.default.createElement(i,null)))};var l=e("./empty"),c=e("./context"),d=e("pragmate-ui/icons"),u=e("./list"),m=e("react"),p=e("pragmate-ui/components"),f=e("@aimpact/ailearn-app/model/gclassroom"),g=e("beyond_context"),y=e("@beyond-js/react-18-widgets/hooks"),h=e("@aimpact/chat/shared/hooks")}}),v.set("./views/items/actions",{hash:4062573251,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ItemActions=function({}){return null}}}),v.set("./views/items/index",{hash:3797049068,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Item=void 0;e("@aimpact/ailearn-app/model/wrapper");var r=e("./actions"),a=e("pragmate-ui/components"),s=e("react"),o=e("@beyond-js/kernel/routing");t.Item=({item:e})=>{var{}=o.routing.uri,t="any"===e.id;return s.default.createElement("li",{key:e.id,className:"sidebar-item "+(t?"current":"")},s.default.createElement(a.Link,{href:`/assignments/${e.id}/student/list`},e.name),s.default.createElement(r.ItemActions,{item:e,chatId:"any",isCurrent:t}))}}}),v.set("./views/list",{hash:2807483691,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.List=function({}){const e=(0,o.useExplorerContext)()["store"],[,t]=a.default.useState(e.items),r=((0,s.useBinder)([e],()=>t(e.items)),e.items.map(e=>a.default.createElement(n.Item,{item:e,key:e.id})));return a.default.createElement("ul",{className:"sidebar__list"},r)};var a=e("react"),s=e("@beyond-js/react-18-widgets/hooks"),o=e("./context"),n=e("./items")}}),h.exports.descriptor=[{im:"./controller",from:"Controller",name:"Controller"},{im:"./views/index",from:"Explorer",name:"Explorer"}],h.exports.process=function({require:e,prop:t,value:r}){!e&&"Controller"!==t||a("Controller",e?e("./controller").Controller:r),!e&&"Explorer"!==t||a("Explorer",e?e("./views/index").Explorer:r)},a("__beyond_pkg",h),a("hmr",new function(){this.on=(e,t)=>h.hmr.on(e,t),this.off=(e,t)=>h.hmr.off(e,t)}),h.initialise(v)}}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi90cy9jb250cm9sbGVyLnRzIiwiL3RzL3N0b3JlLnRzIiwiL3RzL3ZpZXdzL2NvbnRleHQudHMiLCIvdHMvdmlld3MvZW1wdHkudHN4IiwiL3RzL3ZpZXdzL2luZGV4LnRzeCIsIi90cy92aWV3cy9pdGVtcy9hY3Rpb25zLnRzeCIsIi90cy92aWV3cy9pdGVtcy9pbmRleC50c3giLCIvdHMvdmlld3MvbGlzdC50c3giXSwibmFtZXMiOlsiX2Jhc2UiLCJyZXF1aXJlIiwiX3N0b3JlIiwiX3ZpZXdzIiwiQ29udHJvbGxlciIsIlJlYWN0V2lkZ2V0Q29udHJvbGxlciIsIiNzdG9yZSIsImNyZWF0ZVN0b3JlIiwidGhpcyIsIlN0b3JlTWFuYWdlciIsIldpZGdldCIsIkV4cGxvcmVyIiwiZXhwb3J0cyIsIl9tb2RlbCIsIl9nY2xhc3Nyb29tIiwiX2RheWpzIiwiUmVhY3RpdmVNb2RlbCIsImlzUmVhZHkiLCJnY2xhc3Nyb29tIiwiI2l0ZW1zIiwiTWFwIiwiaXRlbXMiLCJjbGFzc2VzIiwidmFsdWVzIiwiI2xhc3RUaW1lIiwiY29uc3RydWN0b3IiLCJzdXBlciIsIm9uIiwidHJpZ2dlckV2ZW50IiwiI2luaXQiLCJsb2FkQ2xhc3NlcyIsImFzeW5jIiwiZmV0Y2hpbmciLCJhd2FpdCIsImNvdXJzZXMiLCJjdXJyZW50VGltZSIsImRlZmF1bHQiLCJsYXN0Q2xhc3Nlc1F1ZXJ5VGltZSIsInNpemUiLCJyZWFkeSIsImRpZmYiLCJfcmVhY3QiLCJFeHBsb3JlckNvbnRleHQiLCJjcmVhdGVDb250ZXh0IiwidXNlRXhwbG9yZXJDb250ZXh0IiwidXNlQ29udGV4dCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJfaWNvbnMiLCJJY29uIiwiaWNvbiIsInN0b3JlIiwidGV4dHNSZWFkeSIsInRleHRzIiwiX2hvb2tzMiIsInVzZVRleHRzIiwiX2JleW9uZF9jb250ZXh0IiwibW9kdWxlIiwic3BlY2lmaWVyIiwic2V0RmV0Y2hpbmciLCJ1c2VTdGF0ZSIsInNldFJlYWR5IiwiX2hvb2tzIiwidXNlQmluZGVyIiwiX2NvbXBvbmVudHMiLCJTcGlubmVyIiwiYWN0aXZlIiwidHlwZSIsIkNvbnRyb2wiLCJsZW5ndGgiLCJfbGlzdCIsIkxpc3QiLCJfZW1wdHkiLCJFbXB0eUV4cGxvcmVyIiwiX2NvbnRleHQiLCJQcm92aWRlciIsInZhbHVlIiwidGl0bGUiLCJJY29uQnV0dG9uIiwib25DbGljayIsInZhcmlhbnQiLCJfYWN0aW9ucyIsIl9yb3V0aW5nIiwiSXRlbSIsIml0ZW0iLCJyb3V0aW5nIiwidXJpIiwiaXNDdXJyZW50IiwiaWQiLCJrZXkiLCJMaW5rIiwiaHJlZiIsIm5hbWUiLCJJdGVtQWN0aW9ucyIsImNoYXRJZCIsInNldEl0ZW1zIiwib3V0cHV0IiwibWFwIiwiX2l0ZW1zIl0sIm1hcHBpbmdzIjoibzZEQUFBLElBQUFBLEVBQUFDLEVBQUEsa0NBQUEsRUFDQUMsRUFBQUQsRUFBQSxTQUFBLEVBQ0FFLEVBQUFGLEVBQUEsU0FBQSxRQUdNRyxVQUFtQkosRUFBQUssc0JBQ3hCQyxPQUNBQyxjQUVDLE9BREFDLEtBQUtGLE9BQVMsSUFBSUosRUFBQU8sYUFDWEQsS0FBS0YsTUFDYixDQUNBSSxhQUNDLE9BQU9QLEVBQUFRLFFBQ1IsQyxDQUNBQyxFQUFBUixXQUFBQSxDLGlJQ2RELElBQUFTLEVBQUFaLEVBQUEsMkJBQUEsRUFFQWEsRUFBQWIsRUFBQSx1Q0FBQSxFQUVBYyxFQUFBZCxFQUFBLE9BQUEsUUFNYVEsVUFBcUJJLEVBQUFHLGNBQ2pDQyxjQUNDLE9BQU9ILEVBQUFJLFdBQVdELE9BQ25CLENBRUFFLE9BQVMsSUFBSUMsSUFDYkMsWUFDQyxNQUFPLENBQUMsR0FBR1AsRUFBQUksV0FBV0ksUUFBUUMsT0FBTSxFQUNyQyxDQUVBQyxVQUNBQyxjQUNDQyxNQUFLLEVBRUxaLEVBQUFJLFdBQVdTLEdBQUcsU0FBVW5CLEtBQUtvQixZQUFZLEVBQ3pDcEIsS0FBS3FCLE1BQUssQ0FDWCxDQUVBQyxZQUFjQyxVQUNidkIsS0FBS3dCLFNBQVcsQ0FBQSxFQUNoQkMsTUFBTW5CLEVBQUFJLFdBQVdnQixRQUFPLEVBQ3hCMUIsS0FBS3dCLFNBQVcsQ0FBQSxDQUNqQixFQUNBSCxhQUNDLElBQU1NLEdBQWMsRUFBQXBCLEVBQUFxQixTQUFLLEVBQ3JCdEIsRUFBQUksV0FBV21CLHNCQUF3QnZCLEVBQUFJLFdBQVdJLFFBQVFnQixNQUN6RDlCLEtBQUsrQixNQUFRLENBQUEsRUFFc0QsRUFBL0RKLEVBQVlLLEtBQUsxQixFQUFBSSxXQUFXbUIscUJBQXNCLFNBQVMsR0FDOUQ3QixLQUFLc0IsWUFBVyxJQUlsQkcsTUFBTXpCLEtBQUtzQixZQUFXLEVBQ3RCdEIsS0FBSytCLE1BQVEsQ0FBQSxFQUNkLEMsQ0FDQTNCLEVBQUFILGFBQUFBLEMsaUtDOUNELElBQUFnQyxFQUFBeEMsRUFBQSxPQUFBLEVBU08sTUFBTXlDLEVBQWU5QixFQUFBOEIsZ0JBQUdELEVBQUFMLFFBQU1PLGNBQWMsRUFBc0IsRUFDQy9CLEVBQUFnQyxtQkFBeENBLElBQU1ILEVBQUFMLFFBQU1TLFdBQVdILENBQWUsQyxrSUNSbEUsU0FBd0IsSUFDN0IsT0FDQ0QsRUFBQUwsUUFBQVUsY0FBQSxNQUFBLENBQUtDLFVBQVUsZ0JBQWdCLEVBQzlCTixFQUFBTCxRQUFBVSxjQUFDRSxFQUFBQyxLQUFJLENBQUNDLEtBQUssb0JBQW9CLENBQUEsRUFDL0JULEVBQUFMLFFBQUFVLGNBQUEsS0FBQSxLQUFBLDRCQUFBLENBQW1DLENBR3RDLEVBVEEsSUFBQUwsRUFBQXhDLEVBQUEsT0FBQSxFQUNBK0MsRUFBQS9DLEVBQUEsbUJBQUEsQyw2SENXaUIsU0FBbUIsQ0FBRWtELE1BQUFBLENBQUssR0FDMUMsS0FBTSxDQUFDQyxFQUFZQyxJQUFTLEVBQUFDLEVBQUFDLFVBQVNDLEVBQUFDLE9BQU9DLFNBQVMsRUFFL0MsQ0FBQSxDQUFXQyxHQUFlbEIsRUFBQUwsUUFBTXdCLFNBQVNULEVBQU1uQixRQUFRLEVBQ3ZELENBQUNPLEVBQU9zQixHQUFZcEIsRUFBQUwsUUFBTXdCLFNBQVNULEVBQU1aLEtBQUssRUFPOUN0QixJQUxOLEVBQUE2QyxFQUFBQyxXQUFVLENBQUNaLEdBQVEsS0FDbEJVLEVBQVNWLEVBQU1aLEtBQUssRUFDcEJvQixFQUFZUixFQUFNbkIsUUFBUSxDQUMzQixDQUFDLEVBRWVvQixHQUFjdEMsRUFBQUksV0FBV3FCLE9BQVNBLEdBQ2xELEdBQUksQ0FBQ3RCLEVBQVMsT0FBT3dCLEVBQUFMLFFBQUFVLGNBQUNrQixFQUFBQyxRQUFPLENBQUNDLE9BQVEsQ0FBQSxFQUFNQyxLQUFLLFNBQVMsQ0FBQSxFQUUxRCxJQUFNQyxFQUFXakIsRUFBTTlCLE1BQU1nRCxPQUF5QkMsRUFBQUMsS0FBaEJDLEVBQUFDLGNBQ3RDLE9BQ0NoQyxFQUFBTCxRQUFBVSxjQUFDNEIsRUFBQWhDLGdCQUFnQmlDLFNBQVEsQ0FDeEJDLE1BQU8sQ0FDTnpCLE1BQUFBLEVBQ0FFLE1BQUFBLEMsQ0FDQSxFQUVEWixFQUFBTCxRQUFBVSxjQUFBLFVBQUEsS0FDQ0wsRUFBQUwsUUFBQVUsY0FBQSxTQUFBLENBQVFDLFVBQVUsWUFBWSxFQUM3Qk4sRUFBQUwsUUFBQVUsY0FBQSxLQUFBLEtBQUtPLEVBQU13QixLQUFLLEVBQ2hCcEMsRUFBQUwsUUFBQVUsY0FBQ0UsRUFBQThCLFdBQVUsQ0FBQ0MsUUFBUzVCLEVBQU1yQixZQUFha0QsUUFBUSxVQUFVakMsVUFBVSxTQUFTRyxLQUFLLFNBQVMsQ0FBQSxDQUFHLEVBRS9GVCxFQUFBTCxRQUFBVSxjQUFDc0IsRUFBTyxJQUFBLENBQUcsQ0FDRixDQUdiLEVBM0NBLElBQUFJLEVBQUF2RSxFQUFBLFNBQUEsRUFDQXlFLEVBQUF6RSxFQUFBLFdBQUEsRUFDQStDLEVBQUEvQyxFQUFBLG1CQUFBLEVBQ0FxRSxFQUFBckUsRUFBQSxRQUFBLEVBQ0F3QyxFQUFBeEMsRUFBQSxPQUFBLEVBQ0ErRCxFQUFBL0QsRUFBQSx3QkFBQSxFQUVBYSxFQUFBYixFQUFBLHVDQUFBLEVBQ0F1RCxFQUFBdkQsRUFBQSxnQkFBQSxFQUNBNkQsRUFBQTdELEVBQUEsbUNBQUEsRUFDQXFELEVBQUFyRCxFQUFBLDRCQUFBLEMsd0lDUk0sU0FBc0IsSUFDM0IsT0FBTyxJQUVSLEMsc0lDTEFBLEVBQUEsb0NBQUEsRUFBQSxJQUNBZ0YsRUFBQWhGLEVBQUEsV0FBQSxFQUNBK0QsRUFBQS9ELEVBQUEsd0JBQUEsRUFDQXdDLEVBQUF4QyxFQUFBLE9BQUEsRUFDQWlGLEVBQUFqRixFQUFBLDJCQUFBLEVBaUJFVyxFQUFBdUUsS0Fma0JBLENBQUFBLENBQUdDLEtBQUFBLENBQU0sS0FDNUIsR0FBTSxHQUFlRixFQUFBRyxRQUFRQyxJQUd2QkMsRUFETyxRQUNnQkgsRUFBS0ksR0FLbEMsT0FDQy9DLEVBQUFMLFFBQUFVLGNBQUEsS0FBQSxDQUFJMkMsSUFBS0wsRUFBS0ksR0FBSXpDLFVBQVcsaUJBQWdCd0MsRUFBWSxVQUFZLEdBQUksRUFDeEU5QyxFQUFBTCxRQUFBVSxjQUFDa0IsRUFBQTBCLEtBQUksQ0FBQ0MscUJBQXNCUCxFQUFLSSxpQkFBaUIsRUFBR0osRUFBS1EsSUFBSSxFQUM5RG5ELEVBQUFMLFFBQUFVLGNBQUNtQyxFQUFBWSxZQUFXLENBQUNULEtBQU1BLEVBQU1VLE9BVGQsTUFTOEJQLFVBQVdBLENBQVMsQ0FBQSxDQUFJLENBR3BFLEMsd0hDaEJNLFNBQWUsSUFDcEIsTUFBUXBDLEdBQVUsRUFBQXVCLEVBQUE5QixvQkFBa0IsRUFBNUJPLFNBQ0YsQ0FBQSxDQUFRNEMsR0FBWXRELEVBQUFMLFFBQU13QixTQUFTVCxFQUFNOUIsS0FBSyxFQUk5QzJFLElBRk4sRUFBQWxDLEVBQUFDLFdBQVUsQ0FBQ1osR0FBUSxJQUFNNEMsRUFBUzVDLEVBQU05QixLQUFLLENBQUMsRUFFL0I4QixFQUFNOUIsTUFBTTRFLElBQUliLEdBQ3ZCM0MsRUFBQUwsUUFBQVUsY0FBQ29ELEVBQUFmLEtBQUksQ0FBQ0MsS0FBTUEsRUFBTUssSUFBS0wsRUFBS0ksRUFBRSxDQUFBLENBQ3JDLEdBQ0QsT0FBTy9DLEVBQUFMLFFBQUFVLGNBQUEsS0FBQSxDQUFJQyxVQUFVLGVBQWUsRUFBRWlELENBQU0sQ0FDN0MsRUFmQSxJQUFBdkQsRUFBQXhDLEVBQUEsT0FBQSxFQUNBNkQsRUFBQTdELEVBQUEsbUNBQUEsRUFDQXlFLEVBQUF6RSxFQUFBLFdBQUEsRUFDQWlHLEVBQUFqRyxFQUFBLFNBQUEifQ==