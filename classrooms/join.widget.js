System.register(["@beyond-js/widgets@1.1.0/render","@beyond-js/kernel@0.1.9/bundle","@beyond-js/kernel@0.1.9/styles","@beyond-js/react-18-widgets@1.1.2/page","@beyond-js/reactive@1.1.12/model","@aimpact/ailearn-sdk@1.0.0/core","react@18.2.0","@aimpact/ailearn-app@0.0.39/components/navbar-header.code","@aimpact/ailearn-app@0.0.39/config","pragmate-ui@0.1.1/image","@aimpact/ailearn-app@0.0.39/components/ui","@aimpact/chat@1.0.1/shared/components","@aimpact/chat@1.0.1/shared/hooks","pragmate-ui@0.1.1/form","pragmate-ui@0.1.1/toast","pragmate-ui@0.1.1/code-verification","pragmate-ui@0.1.1/components","@beyond-js/kernel@0.1.9/routing","@beyond-js/react-18-widgets@1.1.2/hooks"],function(r,e){"use strict";var t,a,o,n,s,i,c,l,d,m,u,p,g,h,f,v,b,y,w,j,x;return r({Controller:void 0,Header:void 0,View:void 0}),{setters:[function(e){t=e},function(e){a=e},function(e){o=e},function(e){n=e},function(e){s=e},function(e){i=e},function(e){c=e},function(e){l=e},function(e){d=e},function(e){m=e},function(e){u=e},function(e){p=e},function(e){g=e},function(e){h=e},function(e){f=e},function(e){v=e},function(e){b=e},function(e){y=e},function(e){w=e}],execute:function(){x=a.Bundle,(j=new x({module:{vspecifier:"@aimpact/ailearn-app@0.0.39/classrooms/join",multibundle:!0},type:"widget"},e.meta.url).package()).dependencies.update([["@beyond-js/widgets/render",t],["@beyond-js/kernel/styles",o],["@beyond-js/react-18-widgets/page",n],["@beyond-js/reactive/model",s],["@aimpact/ailearn-sdk/core",i],["react",c],["@aimpact/ailearn-app/components/navbar-header.code",l],["@aimpact/ailearn-app/config",d],["pragmate-ui/image",m],["@aimpact/ailearn-app/components/ui",u],["@aimpact/chat/shared/components",p],["@aimpact/chat/shared/hooks",g],["pragmate-ui/form",h],["pragmate-ui/toast",f],["pragmate-ui/code-verification",v],["pragmate-ui/components",b],["@beyond-js/kernel/routing",y],["@beyond-js/react-18-widgets/hooks",w]]),brequire("@beyond-js/widgets/render").widgets.register([{name:"ailearn-classroom-join",vspecifier:"@aimpact/ailearn-app@0.0.39/classrooms/join.widget",is:"page",route:"/classrooms/join",layout:"general-layout"}]),brequire("@beyond-js/kernel/styles").styles.register("@aimpact/ailearn-app@0.0.39/classrooms/join.widget"),(x=new Map).set("./controller",{hash:198384358,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Controller=void 0;var a=e("@beyond-js/react-18-widgets/page"),r=e("./views"),o=e("./store");class n extends a.PageReactWidgetController{#store;createStore(){return this.#store=new o.StoreManager,this.#store}get Widget(){return r.View}show(){this.#store.load(this.uri.qs.get("code"))}hide(){this.#store.clear()}}t.Controller=n}}),x.set("./store",{hash:1876651355,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.StoreManager=void 0;var a=e("@beyond-js/reactive/model"),r=e("@aimpact/ailearn-sdk/core");class o extends a.ReactiveModel{#model;get model(){return this.#model}get TOTAL_CODES(){return 7}#code;get code(){return this.#code}get validCode(){return this.#code&&this.#code.length===this.TOTAL_CODES}constructor(){super(),this.#model=new r.Classroom({})}load(e){e&&(this.#code=e),this.ready=!0}clear(){this.ready=!1}}t.StoreManager=o}}),x.set("./views/context",{hash:4056540268,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.useJoinContext=t.JoinContext=void 0;var a=e("react");const r=t.JoinContext=a.default.createContext({});t.useJoinContext=()=>a.default.useContext(r)}}),x.set("./views/header",{hash:1987354350,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Header=function(){var e=(0,o.useJoinContext)()["texts"];return a.createElement("section",null,a.createElement(r.NavbarHeader,{breadcrumb:[[e.breadcrumb.classrooms,"/classrooms/list"],[e.breadcrumb.join,""]]}))};var a=e("react"),r=e("@aimpact/ailearn-app/components/navbar-header.code"),o=e("./context")}}),x.set("./views/index",{hash:3885549626,creator:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.View=function({store:t}){const[a,r]=m.useState(t.code??""),[e,o]=m.useState(""),[n,s]=m.useState(t.ready),[i,c]=((0,E.useBinder)([t],()=>s(t.ready)),(0,b.useTexts)(v.module.specifier));if(!i||!n)return m.createElement(f.PreloadScreen,null);var l=7!==a.length,d=async()=>{try{var e=await t.model.join({code:a});e.status?"PENDING"===e.data.status?(C.routing.pushState("/classrooms/list"),w.toast.success(c.messages.pending)):["ALREADY","AUTHORIZED"].includes(e.data.status)&&(C.routing.pushState("/classrooms/view/"+e.data.classroom.id),w.toast.success(c.messages.authorized)):o(c.errors.INVALID_CODE)}catch(e){o(c.errors[e?.message]??c.errors.INVALID_CODE)}};return m.createElement(h.JoinContext.Provider,{value:{texts:c,store:t}},m.createElement(g.Header,{token:a}),m.createElement(p.PageContainer,{className:"token-page__container"},m.createElement(y.Form,{onSubmit:d,className:"token-form__container"},m.createElement("header",null,m.createElement(u.Image,{className:"animate glow delay-1",src:"/assets/RVD.AI.Branding.png",alt:"RVD.AI"}),m.createElement("h1",{className:"animate glow delay-2"},c.title),m.createElement("span",{className:"p1"},c.form.subtitle)),m.createElement(p.ErrorRenderer,{error:e}),m.createElement(j.InputCode,{upper:!0,length:t.TOTAL_CODES,value:a,name:"name",type:"text",onCodeFull:e=>{r(e),o("")},required:!0}),m.createElement(x.Button,{block:!0,disabled:l,variant:"primary",type:"submit"},c.action.join)),m.createElement("div",{className:"token-info__container flex-container flex-column"},m.createElement("p",{className:"text-center"},c.info.help))))};var m=e("react"),u=e("pragmate-ui/image"),p=e("@aimpact/ailearn-app/components/ui"),g=e("./header"),h=e("./context"),f=e("@aimpact/chat/shared/components"),v=e("beyond_context"),b=e("@aimpact/chat/shared/hooks"),y=e("pragmate-ui/form"),w=e("pragmate-ui/toast"),j=e("pragmate-ui/code-verification"),x=e("pragmate-ui/components"),C=e("@beyond-js/kernel/routing"),E=e("@beyond-js/react-18-widgets/hooks")}}),j.exports.descriptor=[{im:"./controller",from:"Controller",name:"Controller"},{im:"./views/header",from:"Header",name:"Header"},{im:"./views/index",from:"View",name:"View"}],j.exports.process=function({require:e,prop:t,value:a}){!e&&"Controller"!==t||r("Controller",e?e("./controller").Controller:a),!e&&"Header"!==t||r("Header",e?e("./views/header").Header:a),!e&&"View"!==t||r("View",e?e("./views/index").View:a)},r("__beyond_pkg",j),r("hmr",new function(){this.on=(e,t)=>j.hmr.on(e,t),this.off=(e,t)=>j.hmr.off(e,t)}),j.initialise(x)}}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi90cy9jb250cm9sbGVyLnRzIiwiL3RzL3N0b3JlLnRzIiwiL3RzL3ZpZXdzL2NvbnRleHQudHMiLCIvdHMvdmlld3MvaGVhZGVyLnRzeCIsIi90cy92aWV3cy9pbmRleC50c3giXSwibmFtZXMiOlsiX3BhZ2UiLCJyZXF1aXJlIiwiX3ZpZXdzIiwiX3N0b3JlIiwiQ29udHJvbGxlciIsIlBhZ2VSZWFjdFdpZGdldENvbnRyb2xsZXIiLCIjc3RvcmUiLCJjcmVhdGVTdG9yZSIsInRoaXMiLCJTdG9yZU1hbmFnZXIiLCJXaWRnZXQiLCJWaWV3Iiwic2hvdyIsImxvYWQiLCJ1cmkiLCJxcyIsImdldCIsImhpZGUiLCJjbGVhciIsImV4cG9ydHMiLCJfbW9kZWwiLCJfY29yZSIsIlJlYWN0aXZlTW9kZWwiLCIjbW9kZWwiLCJtb2RlbCIsIlRPVEFMX0NPREVTIiwiI2NvZGUiLCJjb2RlIiwidmFsaWRDb2RlIiwibGVuZ3RoIiwiY29uc3RydWN0b3IiLCJzdXBlciIsIkNsYXNzcm9vbSIsInJlYWR5IiwiX3JlYWN0IiwiSm9pbkNvbnRleHQiLCJkZWZhdWx0IiwiY3JlYXRlQ29udGV4dCIsInVzZUpvaW5Db250ZXh0IiwidXNlQ29udGV4dCIsInRleHRzIiwiX2NvbnRleHQiLCJSZWFjdCIsImNyZWF0ZUVsZW1lbnQiLCJfbmF2YmFySGVhZGVyIiwiTmF2YmFySGVhZGVyIiwiYnJlYWRjcnVtYiIsImNsYXNzcm9vbXMiLCJqb2luIiwic3RvcmUiLCJ0b2tlbiIsInNldFRva2VuIiwidXNlU3RhdGUiLCJlcnJvciIsInNldEVycm9yIiwic2V0UmVhZHkiLCJ0ZXh0c1JlYWR5IiwiX2hvb2tzMiIsInVzZUJpbmRlciIsIl9ob29rcyIsInVzZVRleHRzIiwiX2JleW9uZF9jb250ZXh0IiwibW9kdWxlIiwic3BlY2lmaWVyIiwiX2NvbXBvbmVudHMiLCJQcmVsb2FkU2NyZWVuIiwiZGlzYWJsZWQiLCJvblN1Ym1pdCIsImFzeW5jIiwicmVzcG9uc2UiLCJhd2FpdCIsInN0YXR1cyIsImRhdGEiLCJfcm91dGluZyIsInJvdXRpbmciLCJwdXNoU3RhdGUiLCJfdG9hc3QiLCJ0b2FzdCIsInN1Y2Nlc3MiLCJtZXNzYWdlcyIsInBlbmRpbmciLCJpbmNsdWRlcyIsImNsYXNzcm9vbSIsImlkIiwiYXV0aG9yaXplZCIsImVycm9ycyIsIklOVkFMSURfQ09ERSIsImUiLCJtZXNzYWdlIiwiUHJvdmlkZXIiLCJ2YWx1ZSIsIl9oZWFkZXIiLCJIZWFkZXIiLCJfdWkiLCJQYWdlQ29udGFpbmVyIiwiY2xhc3NOYW1lIiwiX2Zvcm0iLCJGb3JtIiwiX2ltYWdlIiwiSW1hZ2UiLCJzcmMiLCJhbHQiLCJ0aXRsZSIsImZvcm0iLCJzdWJ0aXRsZSIsIkVycm9yUmVuZGVyZXIiLCJfY29kZVZlcmlmaWNhdGlvbiIsIklucHV0Q29kZSIsInVwcGVyIiwibmFtZSIsInR5cGUiLCJvbkNvZGVGdWxsIiwicmVxdWlyZWQiLCJfY29tcG9uZW50czIiLCJCdXR0b24iLCJibG9jayIsInZhcmlhbnQiLCJhY3Rpb24iLCJpbmZvIiwiaGVscCJdLCJtYXBwaW5ncyI6InEwRUFBQSxJQUFBQSxFQUFBQyxFQUFBLGtDQUFBLEVBQ0FDLEVBQUFELEVBQUEsU0FBQSxFQUNBRSxFQUFBRixFQUFBLFNBQUEsUUFHTUcsVUFBbUJKLEVBQUFLLDBCQUN4QkMsT0FDQUMsY0FFQyxPQURBQyxLQUFLRixPQUFTLElBQUlILEVBQUFNLGFBQ1hELEtBQUtGLE1BQ2IsQ0FDQUksYUFDQyxPQUFPUixFQUFBUyxJQUNSLENBRUFDLE9BQ0NKLEtBQUtGLE9BQU9PLEtBQUtMLEtBQUtNLElBQUlDLEdBQUdDLElBQUksTUFBTSxDQUFDLENBQ3pDLENBQ0FDLE9BQ0NULEtBQUtGLE9BQU9ZLE1BQUssQ0FDbEIsQyxDQUNBQyxFQUFBZixXQUFBQSxDLGtJQ3JCRCxJQUFBZ0IsRUFBQW5CLEVBQUEsMkJBQUEsRUFDQW9CLEVBQUFwQixFQUFBLDJCQUFBLFFBRWFRLFVBQXFCVyxFQUFBRSxjQUNqQ0MsT0FDQUMsWUFDQyxPQUFP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